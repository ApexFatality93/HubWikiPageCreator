import{g as i,r as V,p as n,d as z,f as J,h as r,l as A,w as f,i as K,j as D,s as Q,k as W,m as X,v as Y,e as E,n as Z,t as ee,b as te,c as d,a as ne}from"./main-bacfb198.js";import{e as N,a as oe,f as k,b as T,c as se,d as ae}from"./startup-6f84b872.js";function R(){i.output.regNr.innerText=V(n.region)}function x(){const n=z(),e=i.output.addInfo,t="[["+F()+"]]"+n;e.innerText=t}function $(){const e=n.mainColour,t=n.secColour,o=n.name,a=n.subtype.toLowerCase(),l=n.type.toLowerCase(),s=i.input.appearanceInput;if(!e.trim()&&!t.trim())return;const c=e.trim()?`${E(e)} ${e.trim()}`:E(l),r=t.trim()?` with ${t} accents`:"",u=`${o} is ${c} ${"starter pistol"==a?a:l} multi-tool${r}.`;s.value=u,f(s)}function q(){ce(),n.albumInitialised?N():document.addEventListener("albumLoaded",(()=>N()))}function L(){q(),g()}function ce(){const{srLocName:e,planet:t,moon:i,axes:o}=n,a=n.location.toLowerCase(),l=X(t,i);let s,c;const r=(()=>{const t=n.srLoc;return e||t.includes("Space")?t.toLowerCase():a.includes("Space")?a:l})();a.includes("space")?(s=`fly to the ${a}`,c=`the ${r}`,a!=r&&e?r.includes("space")||(c=`${r} [[${e}]]`):s="take from cabinet"):(c=`${r} [[${e}]]`,s=`fly to ${l} (${o})`,r.toLowerCase().includes("space")?c=`the ${r}`:i&&"moon"==r&&e==i||!i&&"planet"==r&&e==t?s=`fly to ${o}`:e||(c=`${l}`,s=`fly to ${o}`));f(`Save and reload on ${c}, then ${s}.`,"acquirement"),n.actualSrLoc=r}function g(){const e=n.srLocName,t=n.location,o=n.srPlanetImg||"nmsMisc_notAvailable.png",a=n.sysImg||"nmsMisc_notAvailable.png",l=n.cabinetPlanetImg||"nmsMisc_notAvailable.png",s=n.axesImg||"nmsMisc_notAvailable.png",c=["srImgInput","sysImgInput","cabInput","coordsInput"],u=[{},{},{},{}],p=J(),m=(()=>{const i=n.srLoc;return i.includes("Space")||e?i:t.includes("Space")?t:p})(),f="Sentinel Pillar"==t?"Pillar":"Cabinet",d=t.includes("Space")?"":`(${f} ${p} highlighted)`;function I(n,e,t){n.picName=e,n.desc=t}I(u[0],o,`Save/Reload ${m}`),I(u[1],a,`System ${d}`),!t.includes("Space")&&(I(u[2],l,`${f} ${p}`),I(u[3],s,"Coordinates"));const y=[];for(let n=0;n<u.length;n++){const e=u[n],t=e.picName,o=e.desc,a=c[n];if(!t||!o){r(i.input[a],"none");continue}r(i.input[a],"");const l=document.createElement("span");l.style.display="block",l.innerText=`${t}|${o}`,y.push(l.outerHTML),i.output[a+"Label"].innerText=o}i.output.acquirementGallery.innerHTML=y.join("")}function G(){const e=n.type,t=i.input.locInput;e in A?(r(t,"none"),t.value=A[e],f(t)):r(t,""),M(),B(),g()}function le(){const e=n.location,t=i.input.typeInput,o=i.input.subtypeInput;if(!("string"==typeof e&&t instanceof HTMLSelectElement&&o instanceof HTMLSelectElement))return;const a=structuredClone(A);delete a.Royal;const l=Object.fromEntries(Object.entries(a).map((n=>n.reverse())));e in l?(r(t,"none"),r(o,"none"),t.value=l[e],f(t)):r(t,""),M(),B(),g()}function H(){const e=n.location,t=["planetInput","moonInput","axesInput"];for(const n of t){const t=i.input[n],o=e.includes("Space");r(t,o?"none":""),o&&(t.value="",f(t),K(t))}}function O(){const e=n.srLoc,t=i.input.srInput;e.includes("Space")?(r(t,"none"),t.value="",f(t)):r(t,"")}function M(){const e=n.location,t=i.input.costInput,o="Sentinel Pillar"==e||"Harmonic Camp"==e;r(t,o?"none":""),o&&(t.value="",D(t,"input"))}function B(){const e=n.type,t=i.input.crystalsInput;if(["Royal","Sentinel","Atlantid"].includes(e)){const n=t.closest(".checkboxes").querySelectorAll('input[type="checkbox"]');r(t,"none"),n.forEach((n=>{n.checked=!1,D(n,"change")}))}else r(t,"")}function j(){const e=n.type,t=i.input.subtypeInput,o={Pistol:[["Pistol","Starter Pistol"],["Standard","Starter Pistol"]],Rifle:[["Rifle","SMG"],["Standard (Large)","SMG (Small)"]],Experimental:[["Rifle","Pistol"],["Rifle (Large)","Pistol (Small)"]],Alien:[["Rifle","SMG","Pistol"],["Rifle (Large)","SMG (Medium)","Pistol (Small)"]]},a=Object.keys(o).includes(e);r(t,a?"":"none"),a?Q(t,o[e][0],o[e][1]):t.value="",W(t)}function ie(){return"Catalog"}function re(){return"Multi-Tool"}function ue(){return`<br>{{Class|${n.class}}} - ${function(){const e=n.subtype;return!e||n.isStarter?"":e+" -"}()} ${n.slots} Slots`}function pe(){return(()=>{const e=n.axes,t=n.acquirement.replace("Save and reload","S/r");return e&&!Y(!1)?t.replace(/[()]/g,"").replace(e,`(${e})`):t})()}function F(){return"Eisvana Multi-Tool Catalog"}function me(){const e=["","Discovery Menu","Price Page","Base Stats","Minor Settlement","Sentinel Pillar","Harmonic Camp","Monolith","Tool in Hand","First Person View"],t=n.location,i=["Minor Settlement","Sentinel Pillar","Harmonic Camp","Monolith"];if(i.includes(t))i.filter((n=>n!=t)).forEach((n=>{const t=e.indexOf(n);e.splice(t,1)}));else for(let n=e.length-1;n>=0;n--)i.includes(e[n])&&e.splice(n,1);n.galleryArray=e}const fe=[{element:"nameInput",func:()=>{oe(),$()}},{element:"typeInput",func:()=>{x(),G(),j(),E(n.type,"enPrefix"),k(),T(),$()}},{element:"subtypeInput",func:()=>{T(),x(),$(),k()}},{element:"researchTeam",func:()=>x()},{element:"locInput",func:function(){L(),H(),M(),le()}},{element:"srlocInput",func:()=>{L(),O()}},{element:["srInput","planetInput","moonInput"],func:()=>L()},{element:"axesInput",func:()=>q()},{element:["slotsInput","classInput"],func:()=>T()},{element:["srImgInput","sysImgInput","cabInput","coordsInput"],func:()=>g()},{element:["srImgUpload","sysImgUpload","cabUpload","coordsUpload"],handler:"change",func:function(){Z(this),g()}},{element:"portalglyphsInput",func:()=>R()},{element:["discoveredInput","discoveredlinkInput"],func:()=>se()},{element:["mainColourInput","secColourInput"],func:()=>$()},{element:"hideAppearanceButton",handler:"click",func:function(){ee("appearance",this)}}];d.albumDescExternal=()=>pe(),d.albumOtherExternal=()=>ue(),d.albumItemTypeExternal=()=>re(),d.albumTypeExternal=()=>ie(),d.generateGalleryArray=()=>me(),d.albumLinkGen=()=>F(),ne("galleryExplanationExternal","\n\tThere is a preferred order of pictures:\n\t<div class='is-flex is-justify-content-center'>\n\t\t<ol class='has-text-left'>\n\t\t\t<li>Discovery Menu</li>\n\t\t\t<li>Price Page</li>\n\t\t\t<li>Base Stats</li>\n\t\t\t<li>Minor Settlement/Sentinel Pillar/Harmonic Camp/Monolith</li>\n\t\t\t<li>Tool in Hand</li>\n\t\t\t<li>First Person View</li>\n\t\t</ol>\n\t</div>"),te(fe),L(),x(),G(),j(),H(),O(),R(),M(),ae(),E(n.type??"","enPrefix");
