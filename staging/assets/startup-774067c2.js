import{a1 as vn,a2 as at,a3 as Jn,a4 as Ot,a5 as bn,a6 as je,a7 as Qn,a8 as eo,a9 as to,aa as no,ab as oo,ac as io,ad as yn,ae as ro,af as ao,ag as lo,ah as En,ai as so,F as lt,aj as uo,x as qe,n as co,ak as fo,al as po,u as $t,v as ho,am as mo,an as q,ao as go,ap as vo,E as Ft,b as wn,T as bo,aq as yo,t as Eo,ar as wo,g as F,c as P,p as O,as as _o,i as _n,U as Wt,at as Sn,au as Tn,H as ke,av as So,aw as Dn,ax as xn,B as Bt,C as In,j as Cn,a as Rt,ay as An,az as On,aA as Pn,aB as et,aC as kn,aD as R,aE as W,aF as w,aG as To,aH as Re,aI as ue,aJ as _e,aK as Me,aL as Do,aM as Ve,aN as se,aO as gt,aP as zt,aQ as xo,aR as Io,aS as Co,aT as Ao,aU as Oo,aV as Po,aW as ko,aX as No,aY as Mo,aZ as qt,a_ as Lo}from"./main-ccbf0506.js";const Fo="http://www.w3.org/2000/svg",be=typeof document<"u"?document:null,Vt=be&&be.createElement("template"),Bo={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const i=t?be.createElementNS(Fo,e):be.createElement(e,n?{is:n}:void 0);return"select"===e&&o&&null!=o.multiple&&i.setAttribute("multiple",o.multiple),i},createText:e=>be.createTextNode(e),createComment:e=>be.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>be.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,i,a){const r=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),i!==a&&(i=i.nextSibling););else{Vt.innerHTML=o?`<svg>${e}</svg>`:e;const i=Vt.content;if(o){const e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Ro(e,t,n){const o=e._vtc;o&&(t=(t?[t,...o]:[...o]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Ho(e,t,n){const o=e.style,i=at(n);if(n&&!i){if(t&&!at(t))for(const e in t)null==n[e]&&Pt(o,e,"");for(const e in n)Pt(o,e,n[e])}else{const a=o.display;i?t!==n&&(o.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(o.display=a)}}const Zt=/\s*!important$/;function Pt(e,t,n){if(je(n))n.forEach((n=>Pt(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Go(e,t);Zt.test(n)?e.setProperty(yn(o),n.replace(Zt,""),"important"):e[o]=n}}const Kt=["Webkit","Moz","ms"],vt={};function Go(e,t){const n=vt[t];if(n)return n;let o=ro(t);if("filter"!==o&&o in e)return vt[t]=o;o=ao(o);for(let n=0;n<Kt.length;n++){const i=Kt[n]+o;if(i in e)return vt[t]=i}return t}const Jt="http://www.w3.org/1999/xlink";function Xo(e,t,n,o,i){if(o&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(Jt,t.slice(6,t.length)):e.setAttributeNS(Jt,t,n);else{const o=lo(t);null==n||o&&!En(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function Yo(e,t,n,o,i,a,r){if("innerHTML"===t||"textContent"===t)return o&&r(o,i,a),void(e[t]=n??"");const l=e.tagName;if("value"===t&&"PROGRESS"!==l&&!l.includes("-")){e._value=n;const o=n??"";return("OPTION"===l?e.getAttribute("value"):e.value)!==o&&(e.value=o),void(null==n&&e.removeAttribute(t))}let s=!1;if(""===n||null==n){const o=typeof e[t];"boolean"===o?n=En(n):null==n&&"string"===o?(n="",s=!0):"number"===o&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(t)}function ye(e,t,n,o){e.addEventListener(t,n,o)}function Uo(e,t,n,o){e.removeEventListener(t,n,o)}function jo(e,t,n,o,i=null){const a=e._vei||(e._vei={}),r=a[t];if(o&&r)r.value=o;else{const[n,l]=$o(t);if(o){ye(e,n,a[t]=qo(o,i),l)}else r&&(Uo(e,n,r,l),a[t]=void 0)}}const Qt=/(?:Once|Passive|Capture)$/;function $o(e){let t;if(Qt.test(e)){let n;for(t={};n=e.match(Qt);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[":"===e[2]?e.slice(3):yn(e.slice(2)),t]}let bt=0;const Wo=Promise.resolve(),zo=()=>bt||(Wo.then((()=>bt=0)),bt=Date.now());function qo(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();so(Vo(e,n.value),t,5,[e])};return n.value=e,n.attached=zo(),n}function Vo(e,t){if(je(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const en=/^on[a-z]/,Zo=(e,t,n,o,i=!1,a,r,l,s)=>{"class"===t?Ro(e,o,i):"style"===t?Ho(e,n,o):oo(t)?io(t)||jo(e,t,n,o,r):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):Ko(e,t,o,i))?Yo(e,t,o,a,r,l,s):("true-value"===t?e._trueValue=o:"false-value"===t&&(e._falseValue=o),Xo(e,t,o,i))};function Ko(e,t,n,o){return o?!!("innerHTML"===t||"textContent"===t||t in e&&en.test(t)&&vn(n)):!("spellcheck"===t||"draggable"===t||"translate"===t||"form"===t||"list"===t&&"INPUT"===e.tagName||"type"===t&&"TEXTAREA"===e.tagName||en.test(t)&&at(n))&&t in e}const st=e=>{const t=e.props["onUpdate:modelValue"]||!1;return je(t)?e=>to(t,e):t};function Jo(e){e.target.composing=!0}function tn(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Qo={created(e,{modifiers:{lazy:t,trim:n,number:o}},i){e._assign=st(i);const a=o||i.props&&"number"===i.props.type;ye(e,t?"change":"input",(t=>{if(t.target.composing)return;let o=e.value;n&&(o=o.trim()),a&&(o=Ot(o)),e._assign(o)})),n&&ye(e,"change",(()=>{e.value=e.value.trim()})),t||(ye(e,"compositionstart",Jo),ye(e,"compositionend",tn),ye(e,"change",tn))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:o,number:i}},a){if(e._assign=st(a),e.composing||document.activeElement===e&&"range"!==e.type&&(n||o&&e.value.trim()===t||(i||"number"===e.type)&&Ot(e.value)===t))return;const r=t??"";e.value!==r&&(e.value=r)}},ei={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const i=bn(t);ye(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?Ot(ut(e)):ut(e)));e._assign(e.multiple?i?new Set(t):t:t[0])})),e._assign=st(o)},mounted(e,{value:t}){nn(e,t)},beforeUpdate(e,t,n){e._assign=st(n)},updated(e,{value:t}){nn(e,t)}};function nn(e,t){const n=e.multiple;if(!n||je(t)||bn(t)){for(let o=0,i=e.options.length;o<i;o++){const i=e.options[o],a=ut(i);if(n)je(t)?i.selected=Qn(t,a)>-1:i.selected=t.has(a);else if(eo(ut(i),t))return void(e.selectedIndex!==o&&(e.selectedIndex=o))}!n&&-1!==e.selectedIndex&&(e.selectedIndex=-1)}}function ut(e){return"_value"in e?e._value:e.value}const Te={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Ne(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),Ne(e,!0),o.enter(e)):o.leave(e,(()=>{Ne(e,!1)})):Ne(e,t))},beforeUnmount(e,{value:t}){Ne(e,t)}};function Ne(e,t){e.style.display=t?e._vod:"none"}const ti=no({patchProp:Zo},Bo);let on;function ni(){return on||(on=Jn(ti))}const oi=(...e)=>{const t=ni().createApp(...e),{mount:n}=t;return t.mount=e=>{const o=ii(e);if(!o)return;const i=t._component;!vn(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function ii(e){return at(e)?document.querySelector(e):e}const ri=[{element:"nameInput",func:function(){lt()}},{element:"researchTeam",func:function(){uo(),qe()}},{element:"fileUpload",handler:"change",func:function(){co(this)}},{element:"portalglyphsInput",func:function(){fo(this),po(),lt()}},{element:"discoveredInput",func:function(){$t("discoveredInput","discoveredlinkInput"),qe()}},{element:"discoveredlinkInput",func:function(){$t("discoveredlinkInput","discoveredInput"),qe()}},{element:"docbyInput",func:function(){qe()}},{element:"axesInput",handler:"change",func:function(){ho()}},{element:"glyphDeleteButton",handler:"click",func:function(){mo()}},{element:"fileUploadTooltip",handler:"click",func:function(){q.uploadShown=!0}},{element:"galleryFileUploadTooltip",handler:"click",func:function(){q.galleryUploadShown=!0}}];go(),vo(),Ft(wo),wn(ri),bo();const ai={output:{explanationHeading:"explanationHeading",explanationContent:"explanationContent",explanationLink:"explanationLink",explanationWebpImg:"explanationWebpImg",explanationFallbackImg:"explanationFallbackImg"}},rn=F.output.explanation;rn&&(rn.innerHTML=yo),Ft(ai);const li=["builderInput","builderlinkInput","ownerInput","ownerlinkInput","discoveredInput","discoveredlinkInput"];for(const e of li){const t=F.input[e];t&&(t.dataset.player="")}function si(){var e,t;const n=document.querySelectorAll(".table .data input, .table .data textarea"),o=document.querySelectorAll(".table .data select"),i=document.getElementsByTagName("output");for(const e of Array.from(n))switch(e.type.toLowerCase()){case"checkbox":e.checked=!1;break;case"radio":const t=document.querySelectorAll('input[type="radio"]:not([checked])'),n=document.querySelectorAll('input[type="radio"][checked]');for(const e of Array.from(t))e.checked=!1;for(const e of Array.from(n))e.checked=!0;break;default:e.value=""}for(const n of Array.from(o))n.value=null==(t=null==(e=n.options)?void 0:e[0])?void 0:t.value;for(const e of Array.from(i))e.innerText="";_o();for(const e in O)delete O[e];const a=document.querySelectorAll(".error");for(const e of Array.from(a))_n(e.previousElementSibling);for(const e in Wt)delete Wt[e];"function"==typeof P.resetExternal&&P.resetExternal(),Sn(),Tn()}function Ht(e,t){var n,o,i,a;e.style.pointerEvents="none";const{innerText:r,dataset:{link:l}}=e;ke.text=So(JSON.stringify(O)),ke.copy=!0,ke.link=l;const s=Dn(e);if(s)return e.classList.remove("is-primary"),e.classList.add("is-danger"),e.innerText=s,void setTimeout((()=>{e.classList.remove("is-danger"),e.classList.add("is-primary"),e.innerText=r,e.style.pointerEvents=""}),1500);const c=(null==(a=null==(i=null==(o=null==(n=F)?void 0:n.output)?void 0:o[t])?void 0:i.innerText)?void 0:a.replaceAll("\n\n\n","\n\n"))??t;navigator.clipboard.writeText(c),ke.copy=!0,ke.link=l,e.innerText="Copied!",setTimeout((()=>{e.innerText=r,e.style.pointerEvents=""}),1500)}function ui(e){const t=F.output.fullArticle.innerText.replaceAll("\n\n\n","\n\n"),n=O.name,o=e;o.href="data:text/plain,"+encodeURIComponent(t),o.download=n+".txt"}function Nn(e,t=O.name){e.style.pointerEvents="none";Mn(e,xn+"Special:EditPage/"+t)}function Mn(e,t){const n=Dn(e),o=new RegExp(`[${["#","<",">","[","]","{","|","}"].join("")}]`,"g");if(n){const t=e.innerText;e.removeAttribute("href"),e.className="button is-danger",e.innerText=n,setTimeout((()=>{e.className="button is-outlined is-primary",e.innerText=t,e.style.pointerEvents=""}),1500)}else e.href=t.replace(o," "),e.target="_blank",e.rel="noopener noreferrer",e.style.pointerEvents=""}function Fr(){var e;if("function"!=typeof P.redirectPage)return;const t=document.getElementById("reset"),n=["copyRedirect","createRedirect"],o=document.createElement("p");if(o.id="redirectNote",o.classList.add("has-text-centered"),o.innerText="Please create a redirect for your page!",!P.redirectPage())return n.forEach((()=>{const e=t.previousElementSibling;n.includes(e.id)&&e.remove()})),void(null==(e=document.getElementById(o.id))||e.remove());const i=document.createElement("button");i.innerText="Copy Redirect Code",i.type="button";const a=document.createElement("a");a.rel="noopener noreferrer",a.target="_blank",a.innerText="Create Redirect",wn([{element:i,handler:"click",func:function(){Ht(this,`#REDIRECT [[${O.name}]]`)}},{element:a,handler:"click",func:function(){Nn(this,P.redirectPage())}}]);const r=[i,a];for(let e=0;e<r.length;e++){const o=r[e],i=n[e];if(document.getElementById(i))return;o.classList.add("button","is-outlined","is-primary"),o.id=i,o.dataset.link="redirect",t.insertAdjacentElement("beforebegin",o)}t.parentElement.insertAdjacentElement("beforebegin",o)}Eo();const ci='\n<button class="button is-outlined is-primary" id="copy" type="button" data-link="page" data-evt-id="copyButton">Copy Wikicode</button>\n<a class="button is-outlined is-primary" id="download" data-evt-id="downloadButton">Download File</a>\n<a class="button is-outlined is-primary" href="https://nomanssky.fandom.com/wiki/Special:Upload?multiple=true" id="uploadLink" rel="noopener noreferrer" target="_blank">Upload Pictures</a>\n<a class="button is-outlined is-primary" id="create" data-link="page" data-evt-id="createPageButton">Create Page</a>\n<button class="button is-warning" id="reset" type="reset" data-evt-id="resetButton">Reset Inputs</button>',di=[{element:"copyButton",handler:"click",func:function(){Ht(this,"fullArticle")}},{element:"downloadButton",handler:"click",func:function(){ui(this)}},{element:"createPageButton",handler:"click",func:function(){Nn(this)}},{element:"resetButton",handler:"click",func:()=>si()}],fi=Bt(ci,{},di),pi='<p class="has-text-centered">You must copy the code first, then paste it into the wiki page.<br>Also don\'t forget to upload any images you have put here.</p>',Gt=F.output.actions;Gt.innerHTML="",In(fi,Gt,"afterbegin"),Gt.insertAdjacentHTML("beforebegin",pi);const hi='\n<label style="display:flex; gap: .3rem"><input class="checkbox" type="checkbox" id="skipCheck" data-evt-id="skipCheck">Enable debug (no checks, no popups)</label>;\n<button style="margin: 0 1rem" class="button is-danger is-small" id="clearCache" data-evt-id="clearCache">Clear Localstorage</button>',mi=[{element:"clearCache",handler:"click",func:()=>localStorage.clear()},{element:"skipCheck",handler:"change",func:function(){const e=this.checked;q.debug=e,q.uploadShown=e,q.galleryUploadShown=e,document.documentElement.dataset.debug=e.toString(),lt()}}];F.output.actions,Bt(hi,{},mi),Object.defineProperty(q,"debug",{configurable:!1,writable:!1,value:!1});const yt=document.getElementById("skipCheck");yt&&new URLSearchParams(window.location.search).has("debug")&&(yt.checked=!0,Cn(yt,"change"));const gi='<h2 class="title is-5 has-text-left has-text-weight-bold mb-2">Eisvana \x3c!-- //NOSONAR\n\t(this is fine since this snippet is inserted somewhere else)--\x3e\n\t<output id="album" name="type"></output> <output id="albumType"></output> entry for <output id="albumHeaderName"\n\t\tname="name"></output>:\n</h2>\n<div id="albumText" class="wikiText">\n\t| {{album| file=<output name="image" id="albumImage"></output> | name=[[<output id="albumName"></output>]]\n\t| other=<output id="albumOther"></output> | glyph=<output id="albumGlyphs" name="portalglyphs"></output> |\n\t<output id="albumDiscoverer"></output>}} <output id="albumDesc"></output>\n</div>',vi='<button id="albumBtn" class="button is-outlined is-primary"\n\t   data-link="album" data-evt-id="copyButton">\n\t   Copy Album Wikicode\n\t   </button>\n\t   <a class="button is-outlined is-primary" id="albumLink"\n\t   data-link="album" data-evt-id="openAlbumButton">\n\t   Open Album\n\t   </a>',bi=[{element:"copyButton",handler:"click",func:function(){Ht(this,"albumText")}},{element:"openAlbumButton",handler:"click",func:function(){Ei(this)}}],yi=Bt(vi,{},bi);function Ei(e){e.style.pointerEvents="none";const t="function"==typeof P.albumLinkGen?P.albumLinkGen():O.catalogue?O.catalogue:(console.warn("No wiki page provided. Define the function `albumLinkGen()` and add it to the `globalFunctions` object or define a catalog in the `pageData.catalogue` property!"),void(e.style.pointerEvents=""));t&&Mn(e,xn+t)}function wi(){const e="function"==typeof P.albumItemTypeExternal?P.albumItemTypeExternal():O.type;F.output.album.innerText=e}function _i(){const e="function"==typeof P.albumDescExternal?P.albumDescExternal():"",t=F.output.albumDesc;t&&(t.innerText=e)}function Si(){const e=(()=>{if("function"==typeof P.albumDiscovererExternal)return P.albumDiscovererExternal();{const{discovered:e,discoveredlink:t}=O;return t?`wiki=${t}`:`discoverer=${e}`}})(),t=F.output.albumDiscoverer;t&&(t.innerText=e)}function Ti(){const e="function"==typeof P.albumNameExternal?P.albumNameExternal():O.name;F.output.albumName.innerText=e}function Di(){const e="function"==typeof P.albumOtherExternal?P.albumOtherExternal():"",t=F.output.albumOther;t&&(t.innerText=e)}function xi(){const e="function"==typeof P.albumTypeExternal?P.albumTypeExternal():"";F.output.albumType.innerText=e}function Ii(){const e={albumHeaderName:"name",albumImage:"image",albumGlyphs:"portalglyphs"};for(const t in e){F.output[t].innerText=O[e[t]]}}function Br(){function e(){Ii(),Si(),Ti(),Di(),xi(),wi(),_i()}O.albumInitialised?e():document.addEventListener("albumLoaded",(()=>e()))}const Ci={output:{album:"album",albumType:"albumType",albumHeaderName:"albumHeaderName",albumImage:"albumImage",albumName:"albumName",albumOther:"albumOther",albumGlyphs:"albumGlyphs",albumDiscoverer:"albumDiscoverer",albumText:"albumText",albumDesc:"albumDesc"}},an=F.output.albumEntry,Et=F.output.albumActions;if(an instanceof HTMLDivElement&&(an.innerHTML=gi),Et instanceof HTMLDivElement){In(yi,Et,"afterbegin"),Ft(Ci),document.dispatchEvent(new Event("albumLoaded")),Rt("albumInitialised",!0);const e='<p style="width:100%" class="has-text-centered mb-3">Please don\'t forget to create an album entry!</p>';Et.insertAdjacentHTML("afterbegin",e)}
/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){Ai(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(){return oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},oe.apply(this,arguments)}function Oi(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function Pi(e,t){if(null==e)return{};var n,o,i=Oi(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ki="1.15.0";function ne(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var ie=ne(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),$e=ne(/Edge/i),sn=ne(/firefox/i),He=ne(/safari/i)&&!ne(/chrome/i)&&!ne(/android/i),Ln=ne(/iP(ad|od|hone)/i),Fn=ne(/chrome/i)&&ne(/android/i),Bn={capture:!1,passive:!1};function S(e,t,n){e.addEventListener(t,n,!ie&&Bn)}function _(e,t,n){e.removeEventListener(t,n,!ie&&Bn)}function ct(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Ni(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function K(e,t,n,o){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&ct(e,t):ct(e,t))||o&&e===n)return e;if(e===n)break}while(e=Ni(e))}return null}var Ge,un=/\s+/g;function j(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(un," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(un," ")}}function h(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];!(t in o)&&-1===t.indexOf("webkit")&&(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function xe(e,t){var n="";if("string"==typeof e)n=e;else do{var o=h(e,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function Rn(e,t,n){if(e){var o=e.getElementsByTagName(t),i=0,a=o.length;if(n)for(;i<a;i++)n(o[i],i);return o}return[]}function J(){return document.scrollingElement||document.documentElement}function N(e,t,n,o,i){if(e.getBoundingClientRect||e===window){var a,r,l,s,c,u,d;if(e!==window&&e.parentNode&&e!==J()?(r=(a=e.getBoundingClientRect()).top,l=a.left,s=a.bottom,c=a.right,u=a.height,d=a.width):(r=0,l=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!ie))do{if(i&&i.getBoundingClientRect&&("none"!==h(i,"transform")||n&&"static"!==h(i,"position"))){var p=i.getBoundingClientRect();r-=p.top+parseInt(h(i,"border-top-width")),l-=p.left+parseInt(h(i,"border-left-width")),s=r+a.height,c=l+a.width;break}}while(i=i.parentNode);if(o&&e!==window){var f=xe(i||e),m=f&&f.a,v=f&&f.d;f&&(s=(r/=v)+(u/=v),c=(l/=m)+(d/=m))}return{top:r,left:l,bottom:s,right:c,width:d,height:u}}}function cn(e,t,n){for(var o=fe(e,!0),i=N(e)[t];o;){var a=N(o)[n];if(!("top"===n||"left"===n?i>=a:i<=a))return o;if(o===J())break;o=fe(o,!1)}return!1}function Ie(e,t,n,o){for(var i=0,a=0,r=e.children;a<r.length;){if("none"!==r[a].style.display&&r[a]!==m.ghost&&(o||r[a]!==m.dragged)&&K(r[a],n.draggable,e,!1)){if(i===t)return r[a];i++}a++}return null}function Xt(e,t){for(var n=e.lastElementChild;n&&(n===m.ghost||"none"===h(n,"display")||t&&!ct(n,t));)n=n.previousElementSibling;return n||null}function V(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"!==e.nodeName.toUpperCase()&&e!==m.clone&&(!t||ct(e,t))&&n++;return n}function dn(e){var t=0,n=0,o=J();if(e)do{var i=xe(e),a=i.a,r=i.d;t+=e.scrollLeft*a,n+=e.scrollTop*r}while(e!==o&&(e=e.parentNode));return[t,n]}function Mi(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n);return-1}function fe(e,t){if(!e||!e.getBoundingClientRect)return J();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=h(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return J();if(o||t)return n;o=!0}}}while(n=n.parentNode);return J()}function Li(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function wt(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Hn(e,t){return function(){if(!Ge){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),Ge=setTimeout((function(){Ge=void 0}),t)}}}function Fi(){clearTimeout(Ge),Ge=void 0}function Gn(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Xn(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var z="Sortable"+(new Date).getTime();function Bi(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==h(e,"display")&&e!==m.ghost){t.push({target:e,rect:N(e)});var n=Q({},t[t.length-1].rect);if(e.thisAnimationDuration){var o=xe(e,!0);o&&(n.top-=o.f,n.left-=o.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(Mi(t,{target:e}),1)},animateAll:function(n){var o=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var i=!1,a=0;t.forEach((function(e){var t=0,n=e.target,r=n.fromRect,l=N(n),s=n.prevFromRect,c=n.prevToRect,u=e.rect,d=xe(n,!0);d&&(l.top-=d.f,l.left-=d.e),n.toRect=l,n.thisAnimationDuration&&wt(s,l)&&!wt(r,l)&&(u.top-l.top)/(u.left-l.left)==(r.top-l.top)/(r.left-l.left)&&(t=Hi(u,s,c,o.options)),wt(l,r)||(n.prevFromRect=r,n.prevToRect=l,t||(t=o.options.animation),o.animate(n,u,l,t)),t&&(i=!0,a=Math.max(a,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"==typeof n&&n()}),a):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,o){if(o){h(e,"transition",""),h(e,"transform","");var i=xe(this.el),a=i&&i.a,r=i&&i.d,l=(t.left-n.left)/(a||1),s=(t.top-n.top)/(r||1);e.animatingX=!!l,e.animatingY=!!s,h(e,"transform","translate3d("+l+"px,"+s+"px,0)"),this.forRepaintDummy=Ri(e),h(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),h(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){h(e,"transition",""),h(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}}function Ri(e){return e.offsetWidth}function Hi(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var Ee=[],_t={initializeByDefault:!0},We={mount:function(e){for(var t in _t)_t.hasOwnProperty(t)&&!(t in e)&&(e[t]=_t[t]);Ee.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Ee.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var i=e+"Global";Ee.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][i]&&t[o.pluginName][i](Q({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](Q({sortable:t},n)))}))},initializePlugins:function(e,t,n,o){for(var i in Ee.forEach((function(o){var i=o.pluginName;if(e.options[i]||o.initializeByDefault){var a=new o(e,t,e.options);a.sortable=e,a.options=e.options,e[i]=a,oe(n,a.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var a=this.modifyOption(e,i,e.options[i]);typeof a<"u"&&(e.options[i]=a)}},getEventProperties:function(e,t){var n={};return Ee.forEach((function(o){"function"==typeof o.eventProperties&&oe(n,o.eventProperties.call(t[o.pluginName],e))})),n},modifyOption:function(e,t,n){var o;return Ee.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[t]&&(o=i.optionListeners[t].call(e[i.pluginName],n))})),o}};function Gi(e){var t=e.sortable,n=e.rootEl,o=e.name,i=e.targetEl,a=e.cloneEl,r=e.toEl,l=e.fromEl,s=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,p=e.originalEvent,f=e.putSortable,h=e.extraEventProperties;if(t=t||n&&n[z]){var m,v=t.options,g="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||ie||$e?(m=document.createEvent("Event")).initEvent(o,!0,!0):m=new CustomEvent(o,{bubbles:!0,cancelable:!0}),m.to=r||n,m.from=l||n,m.item=i||n,m.clone=a,m.oldIndex=s,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=p,m.pullMode=f?f.lastPutMode:void 0;var b=Q(Q({},h),We.getEventProperties(o,t));for(var y in b)m[y]=b[y];n&&n.dispatchEvent(m),v[g]&&v[g].call(t,m)}}var Xi=["evt"],Y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,i=Pi(n,Xi);We.pluginEvent.bind(m)(e,t,Q({dragEl:d,parentEl:A,ghostEl:v,rootEl:x,nextEl:ve,lastDownEl:nt,cloneEl:C,cloneHidden:de,dragStarted:Le,putSortable:B,activeSortable:m.active,originalEvent:o,oldIndex:De,oldDraggableIndex:Xe,newIndex:$,newDraggableIndex:ce,hideGhostForTarget:$n,unhideGhostForTarget:Wn,cloneNowHidden:function(){de=!0},cloneNowShown:function(){de=!1},dispatchSortableEvent:function(e){X({sortable:t,name:e,originalEvent:o})}},i))};function X(e){Gi(Q({putSortable:B,cloneEl:C,targetEl:d,rootEl:x,oldIndex:De,oldDraggableIndex:Xe,newIndex:$,newDraggableIndex:ce},e))}var d,A,v,x,ve,nt,C,de,De,$,Xe,ce,Ze,B,me,Z,St,Tt,fn,pn,Le,we,Ye,ot,G,Se=!1,dt=!1,ft=[],Ue=!1,Ke=!1,Dt=[],kt=!1,pt=[],mt=typeof document<"u",Je=Ln,hn=$e||ie?"cssFloat":"float",Yi=mt&&!Fn&&!Ln&&"draggable"in document.createElement("div"),Yn=function(){if(mt){if(ie)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Un=function(e,t){var n=h(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=Ie(e,0,t),a=Ie(e,1,t),r=i&&h(i),l=a&&h(a),s=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+N(i).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+N(a).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&r.float&&"none"!==r.float){var u="left"===r.float?"left":"right";return!a||"both"!==l.clear&&l.clear!==u?"horizontal":"vertical"}return i&&("block"===r.display||"flex"===r.display||"table"===r.display||"grid"===r.display||s>=o&&"none"===n[hn]||a&&"none"===n[hn]&&s+c>o)?"vertical":"horizontal"},Ui=function(e,t,n){var o=n?e.left:e.top,i=n?e.right:e.bottom,a=n?e.width:e.height,r=n?t.left:t.top,l=n?t.right:t.bottom,s=n?t.width:t.height;return o===r||i===l||o+a/2===r+s/2},ji=function(e,t){var n;return ft.some((function(o){var i=o[z].options.emptyInsertThreshold;if(i&&!Xt(o)){var a=N(o),r=e>=a.left-i&&e<=a.right+i,l=t>=a.top-i&&t<=a.bottom+i;if(r&&l)return n=o}})),n},jn=function(e){function t(e,n){return function(o,i,a,r){var l=o.options.group.name&&i.options.group.name&&o.options.group.name===i.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(o,i,a,r),n)(o,i,a,r);var s=(n?o:i).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},o=e.group;(!o||"object"!=tt(o))&&(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},$n=function(){!Yn&&v&&h(v,"display","none")},Wn=function(){!Yn&&v&&h(v,"display","")};mt&&!Fn&&document.addEventListener("click",(function(e){if(dt)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),dt=!1,!1}),!0);var ge=function(e){if(d){e=e.touches?e.touches[0]:e;var t=ji(e.clientX,e.clientY);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[z]._onDragOver(n)}}},$i=function(e){d&&d.parentNode[z]._isOutsideThisEl(e.target)};function m(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=oe({},t),e[z]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Un(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==m.supportPointer&&"PointerEvent"in window&&!He,emptyInsertThreshold:5};for(var o in We.initializePlugins(this,e,n),n)!(o in t)&&(t[o]=n[o]);for(var i in jn(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Yi,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?S(e,"pointerdown",this._onTapStart):(S(e,"mousedown",this._onTapStart),S(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(S(e,"dragover",this),S(e,"dragenter",this)),ft.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),oe(this,Bi())}function Wi(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Qe(e,t,n,o,i,a,r,l){var s,c,u=e[z],d=u.options.onMove;return!window.CustomEvent||ie||$e?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=i||t,s.relatedRect=a||N(t),s.willInsertAfter=l,s.originalEvent=r,e.dispatchEvent(s),d&&(c=d.call(u,s,r)),c}function xt(e){e.draggable=!1}function zi(){kt=!1}function qi(e,t,n){var o=N(Ie(n.el,0,n.options,!0));return t?e.clientX<o.left-10||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-10||e.clientY<o.bottom&&e.clientX<o.left}function Vi(e,t,n){var o=N(Xt(n.el,n.options.draggable));return t?e.clientX>o.right+10||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+10}function Zi(e,t,n,o,i,a,r,l){var s=o?e.clientY:e.clientX,c=o?n.height:n.width,u=o?n.top:n.left,d=o?n.bottom:n.right,p=!1;if(!r)if(l&&ot<c*i){if(!Ue&&(1===Ye?s>u+c*a/2:s<d-c*a/2)&&(Ue=!0),Ue)p=!0;else if(1===Ye?s<u+ot:s>d-ot)return-Ye}else if(s>u+c*(1-i)/2&&s<d-c*(1-i)/2)return Ki(t);return(p=p||r)&&(s<u+c*a/2||s>d-c*a/2)?s>u+c/2?1:-1:0}function Ki(e){return V(d)<V(e)?1:-1}function Ji(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function Qi(e){pt.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&pt.push(o)}}function it(e){return setTimeout(e,0)}function Nt(e){return clearTimeout(e)}m.prototype={constructor:m,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(we=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,d):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,i=o.preventOnFilter,a=e.type,r=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(r||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=o.filter;if(Qi(n),!d&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||o.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!He||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=K(l,o.draggable,n,!1))&&l.animated||nt===l)){if(De=V(l),Xe=V(l,o.draggable),"function"==typeof c){if(c.call(this,e,l,this))return X({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),Y("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=K(s,o.trim(),n,!1))return X({sortable:t,rootEl:o,name:"filter",targetEl:l,fromEl:n,toEl:n}),Y("filter",t,{evt:e}),!0}))))return void(i&&e.cancelable&&e.preventDefault());o.handle&&!K(s,o.handle,n,!1)||this._prepareDragStart(e,r,l)}}},_prepareDragStart:function(e,t,n){var o,i=this,a=i.el,r=i.options,l=a.ownerDocument;if(n&&!d&&n.parentNode===a){var s=N(n);if(x=a,A=(d=n).parentNode,ve=d.nextSibling,nt=n,Ze=r.group,m.dragged=d,me={target:d,clientX:(t||e).clientX,clientY:(t||e).clientY},fn=me.clientX-s.left,pn=me.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,d.style["will-change"]="all",o=function(){Y("delayEnded",i,{evt:e}),m.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!sn&&i.nativeDraggable&&(d.draggable=!0),i._triggerDragStart(e,t),X({sortable:i,name:"choose",originalEvent:e}),j(d,r.chosenClass,!0))},r.ignore.split(",").forEach((function(e){Rn(d,e.trim(),xt)})),S(l,"dragover",ge),S(l,"mousemove",ge),S(l,"touchmove",ge),S(l,"mouseup",i._onDrop),S(l,"touchend",i._onDrop),S(l,"touchcancel",i._onDrop),sn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),Y("delayStart",this,{evt:e}),!r.delay||r.delayOnTouchOnly&&!t||this.nativeDraggable&&($e||ie))o();else{if(m.eventCanceled)return void this._onDrop();S(l,"mouseup",i._disableDelayedDrag),S(l,"touchend",i._disableDelayedDrag),S(l,"touchcancel",i._disableDelayedDrag),S(l,"mousemove",i._delayedDragTouchMoveHandler),S(l,"touchmove",i._delayedDragTouchMoveHandler),r.supportPointer&&S(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(o,r.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&xt(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;_(e,"mouseup",this._disableDelayedDrag),_(e,"touchend",this._disableDelayedDrag),_(e,"touchcancel",this._disableDelayedDrag),_(e,"mousemove",this._delayedDragTouchMoveHandler),_(e,"touchmove",this._delayedDragTouchMoveHandler),_(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?S(document,"pointermove",this._onTouchMove):S(document,t?"touchmove":"mousemove",this._onTouchMove):(S(d,"dragend",this),S(x,"dragstart",this._onDragStart));try{document.selection?it((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Se=!1,x&&d){Y("dragStarted",this,{evt:t}),this.nativeDraggable&&S(document,"dragover",$i);var n=this.options;!e&&j(d,n.dragClass,!1),j(d,n.ghostClass,!0),m.active=this,e&&this._appendGhost(),X({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Z){this._lastX=Z.clientX,this._lastY=Z.clientY,$n();for(var e=document.elementFromPoint(Z.clientX,Z.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Z.clientX,Z.clientY))!==t;)t=e;if(d.parentNode[z]._isOutsideThisEl(e),t)do{if(t[z]){if(t[z]._onDragOver({clientX:Z.clientX,clientY:Z.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Wn()}},_onTouchMove:function(e){if(me){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,i=e.touches?e.touches[0]:e,a=v&&xe(v,!0),r=v&&a&&a.a,l=v&&a&&a.d,s=Je&&G&&dn(G),c=(i.clientX-me.clientX+o.x)/(r||1)+(s?s[0]-Dt[0]:0)/(r||1),u=(i.clientY-me.clientY+o.y)/(l||1)+(s?s[1]-Dt[1]:0)/(l||1);if(!m.active&&!Se){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(v){a?(a.e+=c-(St||0),a.f+=u-(Tt||0)):a={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");h(v,"webkitTransform",d),h(v,"mozTransform",d),h(v,"msTransform",d),h(v,"transform",d),St=c,Tt=u,Z=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!v){var e=this.options.fallbackOnBody?document.body:x,t=N(d,!0,Je,!0,e),n=this.options;if(Je){for(G=e;"static"===h(G,"position")&&"none"===h(G,"transform")&&G!==document;)G=G.parentNode;G!==document.body&&G!==document.documentElement?(G===document&&(G=J()),t.top+=G.scrollTop,t.left+=G.scrollLeft):G=J(),Dt=dn(G)}j(v=d.cloneNode(!0),n.ghostClass,!1),j(v,n.fallbackClass,!0),j(v,n.dragClass,!0),h(v,"transition",""),h(v,"transform",""),h(v,"box-sizing","border-box"),h(v,"margin",0),h(v,"top",t.top),h(v,"left",t.left),h(v,"width",t.width),h(v,"height",t.height),h(v,"opacity","0.8"),h(v,"position",Je?"absolute":"fixed"),h(v,"zIndex","100000"),h(v,"pointerEvents","none"),m.ghost=v,e.appendChild(v),h(v,"transform-origin",fn/parseInt(v.style.width)*100+"% "+pn/parseInt(v.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,i=n.options;Y("dragStart",this,{evt:e}),m.eventCanceled?this._onDrop():(Y("setupClone",this),m.eventCanceled||((C=Xn(d)).removeAttribute("id"),C.draggable=!1,C.style["will-change"]="",this._hideClone(),j(C,this.options.chosenClass,!1),m.clone=C),n.cloneId=it((function(){Y("clone",n),!m.eventCanceled&&(n.options.removeCloneOnHide||x.insertBefore(C,d),n._hideClone(),X({sortable:n,name:"clone"}))})),!t&&j(d,i.dragClass,!0),t?(dt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(_(document,"mouseup",n._onDrop),_(document,"touchend",n._onDrop),_(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(n,o,d)),S(document,"drop",n),h(d,"transform","translateZ(0)")),Se=!0,n._dragStartId=it(n._dragStarted.bind(n,t,e)),S(document,"selectstart",n),Le=!0,He&&h(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,i,a=this.el,r=e.target,l=this.options,s=l.group,c=m.active,u=Ze===s,p=l.sort,f=B||c,g=this,b=!1;if(!kt){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),r=K(r,l.draggable,a,!0),R("dragOver"),m.eventCanceled)return b;if(d.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||g._ignoreWhileAnimating===r)return H(!1);if(dt=!1,c&&!l.disabled&&(u?p||(o=A!==x):B===this||(this.lastPutMode=Ze.checkPull(this,c,d,e))&&s.checkPut(this,c,d,e))){if(i="vertical"===this._getDirection(e,r),t=N(d),R("dragOverValid"),m.eventCanceled)return b;if(o)return A=x,F(),this._hideClone(),R("revert"),m.eventCanceled||(ve?x.insertBefore(d,ve):x.appendChild(d)),H(!0);var y=Xt(a,l.draggable);if(!y||Vi(e,i,this)&&!y.animated){if(y===d)return H(!1);if(y&&a===e.target&&(r=y),r&&(n=N(r)),!1!==Qe(x,a,d,t,r,n,e,!!r))return F(),y&&y.nextSibling?a.insertBefore(d,y.nextSibling):a.appendChild(d),A=a,G(),H(!0)}else if(y&&qi(e,i,this)){var w=Ie(a,0,l,!0);if(w===d)return H(!1);if(n=N(r=w),!1!==Qe(x,a,d,t,r,n,e,!1))return F(),a.insertBefore(d,w),A=a,G(),H(!0)}else if(r.parentNode===a){n=N(r);var E,S,_,T=d.parentNode!==a,C=!Ui(d.animated&&d.toRect||t,r.animated&&r.toRect||n,i),k=i?"top":"left",D=cn(r,"top","top")||cn(d,"top","top"),I=D?D.scrollTop:void 0;if(we!==r&&(S=n[k],Ue=!1,Ke=!C&&l.invertSwap||T),0!==(E=Zi(e,r,n,i,C?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Ke,we===r))){var O=V(d);do{O-=E,_=A.children[O]}while(_&&("none"===h(_,"display")||_===v))}if(0===E||_===r)return H(!1);we=r,Ye=E;var P=r.nextElementSibling,M=!1,L=Qe(x,a,d,t,r,n,e,M=1===E);if(!1!==L)return(1===L||-1===L)&&(M=1===L),kt=!0,setTimeout(zi,30),F(),M&&!P?a.appendChild(d):r.parentNode.insertBefore(d,M?P:r),D&&Gn(D,0,I-D.scrollTop),A=d.parentNode,void 0!==S&&!Ke&&(ot=Math.abs(S-N(r)[k])),G(),H(!0)}if(a.contains(d))return H(!1)}return!1}function R(l,s){Y(l,g,Q({evt:e,isOwner:u,axis:i?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:p,fromSortable:f,target:r,completed:H,onMove:function(n,o){return Qe(x,a,d,t,n,N(n),e,o)},changed:G},s))}function F(){R("dragOverAnimationCapture"),g.captureAnimationState(),g!==f&&f.captureAnimationState()}function H(t){return R("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(g),g!==f&&(j(d,B?B.options.ghostClass:c.options.ghostClass,!1),j(d,l.ghostClass,!0)),B!==g&&g!==m.active?B=g:g===m.active&&B&&(B=null),f===g&&(g._ignoreWhileAnimating=r),g.animateAll((function(){R("dragOverAnimationComplete"),g._ignoreWhileAnimating=null})),g!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(r===d&&!d.animated||r===a&&!r.animated)&&(we=null),!l.dragoverBubble&&!e.rootEl&&r!==document&&(d.parentNode[z]._isOutsideThisEl(e.target),!t&&ge(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function G(){$=V(d),ce=V(d,l.draggable),X({sortable:g,name:"change",toEl:a,newIndex:$,newDraggableIndex:ce,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){_(document,"mousemove",this._onTouchMove),_(document,"touchmove",this._onTouchMove),_(document,"pointermove",this._onTouchMove),_(document,"dragover",ge),_(document,"mousemove",ge),_(document,"touchmove",ge)},_offUpEvents:function(){var e=this.el.ownerDocument;_(e,"mouseup",this._onDrop),_(e,"touchend",this._onDrop),_(e,"pointerup",this._onDrop),_(e,"touchcancel",this._onDrop),_(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;$=V(d),ce=V(d,n.draggable),Y("drop",this,{evt:e}),A=d&&d.parentNode,$=V(d),ce=V(d,n.draggable),m.eventCanceled||(Se=!1,Ke=!1,Ue=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Nt(this.cloneId),Nt(this._dragStartId),this.nativeDraggable&&(_(document,"drop",this),_(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),He&&h(document.body,"user-select",""),h(d,"transform",""),e&&(Le&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),v&&v.parentNode&&v.parentNode.removeChild(v),(x===A||B&&"clone"!==B.lastPutMode)&&C&&C.parentNode&&C.parentNode.removeChild(C),d&&(this.nativeDraggable&&_(d,"dragend",this),xt(d),d.style["will-change"]="",Le&&!Se&&j(d,B?B.options.ghostClass:this.options.ghostClass,!1),j(d,this.options.chosenClass,!1),X({sortable:this,name:"unchoose",toEl:A,newIndex:null,newDraggableIndex:null,originalEvent:e}),x!==A?($>=0&&(X({rootEl:A,name:"add",toEl:A,fromEl:x,originalEvent:e}),X({sortable:this,name:"remove",toEl:A,originalEvent:e}),X({rootEl:A,name:"sort",toEl:A,fromEl:x,originalEvent:e}),X({sortable:this,name:"sort",toEl:A,originalEvent:e})),B&&B.save()):$!==De&&$>=0&&(X({sortable:this,name:"update",toEl:A,originalEvent:e}),X({sortable:this,name:"sort",toEl:A,originalEvent:e})),m.active&&((null==$||-1===$)&&($=De,ce=Xe),X({sortable:this,name:"end",toEl:A,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Y("nulling",this),x=d=A=v=ve=C=nt=de=me=Z=Le=$=ce=De=Xe=we=Ye=B=Ze=m.dragged=m.ghost=m.clone=m.active=null,pt.forEach((function(e){e.checked=!0})),pt.length=St=Tt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":d&&(this._onDragOver(e),Wi(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,i=n.length,a=this.options;o<i;o++)K(e=n[o],a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||Ji(e));return t},sort:function(e,t){var n={},o=this.el;this.toArray().forEach((function(e,t){var i=o.children[t];K(i,this.options.draggable,o,!1)&&(n[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(o.removeChild(n[e]),o.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return K(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var o=We.modifyOption(this,e,t);n[e]=typeof o<"u"?o:t,"group"===e&&jn(n)},destroy:function(){Y("destroy",this);var e=this.el;e[z]=null,_(e,"mousedown",this._onTapStart),_(e,"touchstart",this._onTapStart),_(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(_(e,"dragover",this),_(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),ft.splice(ft.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!de){if(Y("hideClone",this),m.eventCanceled)return;h(C,"display","none"),this.options.removeCloneOnHide&&C.parentNode&&C.parentNode.removeChild(C),de=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(de){if(Y("showClone",this),m.eventCanceled)return;d.parentNode!=x||this.options.group.revertClone?ve?x.insertBefore(C,ve):x.appendChild(C):x.insertBefore(C,d),this.options.group.revertClone&&this.animate(d,C),h(C,"display",""),de=!1}}else this._hideClone()}},mt&&S(document,"touchmove",(function(e){(m.active||Se)&&e.cancelable&&e.preventDefault()})),m.utils={on:S,off:_,css:h,find:Rn,is:function(e,t){return!!K(e,t,e,!1)},extend:Li,throttle:Hn,closest:K,toggleClass:j,clone:Xn,index:V,nextTick:it,cancelNextTick:Nt,detectDirection:Un,getChild:Ie},m.get=function(e){return e[z]},m.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(m.utils=Q(Q({},m.utils),e.utils)),We.mount(e)}))},m.create=function(e,t){return new m(e,t)},m.version=ki;var Fe,Mt,It,Ct,ht,Be,k=[],Lt=!1;function er(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):this.options.supportPointer?S(document,"pointermove",this._handleFallbackAutoScroll):t.touches?S(document,"touchmove",this._handleFallbackAutoScroll):S(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;!this.options.dragOverBubble&&!t.rootEl&&this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?_(document,"dragover",this._handleAutoScroll):(_(document,"pointermove",this._handleFallbackAutoScroll),_(document,"touchmove",this._handleFallbackAutoScroll),_(document,"mousemove",this._handleFallbackAutoScroll)),mn(),rt(),Fi()},nulling:function(){ht=Mt=Fe=Lt=Be=It=Ct=null,k.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(o,i);if(ht=e,t||this.options.forceAutoScrollFallback||$e||ie||He){At(e,this.options,a,t);var r=fe(a,!0);Lt&&(!Be||o!==It||i!==Ct)&&(Be&&mn(),Be=setInterval((function(){var a=fe(document.elementFromPoint(o,i),!0);a!==r&&(r=a,rt()),At(e,n.options,a,t)}),10),It=o,Ct=i)}else{if(!this.options.bubbleScroll||fe(a,!0)===J())return void rt();At(e,this.options,fe(a,!1),!1)}}},oe(e,{pluginName:"scroll",initializeByDefault:!0})}function rt(){k.forEach((function(e){clearInterval(e.pid)})),k=[]}function mn(){clearInterval(Be)}var At=Hn((function(e,t,n,o){if(t.scroll){var i,a=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=J(),u=!1;Mt!==n&&(Mt=n,rt(),Fe=t.scroll,i=t.scrollFn,!0===Fe&&(Fe=fe(n,!0)));var d=0,p=Fe;do{var f=p,v=N(f),g=v.top,b=v.bottom,y=v.left,w=v.right,E=v.width,x=v.height,S=void 0,_=void 0,T=f.scrollWidth,C=f.scrollHeight,D=h(f),A=f.scrollLeft,I=f.scrollTop;f===c?(S=E<T&&("auto"===D.overflowX||"scroll"===D.overflowX||"visible"===D.overflowX),_=x<C&&("auto"===D.overflowY||"scroll"===D.overflowY||"visible"===D.overflowY)):(S=E<T&&("auto"===D.overflowX||"scroll"===D.overflowX),_=x<C&&("auto"===D.overflowY||"scroll"===D.overflowY));var O=S&&(Math.abs(w-a)<=l&&A+E<T)-(Math.abs(y-a)<=l&&!!A),P=_&&(Math.abs(b-r)<=l&&I+x<C)-(Math.abs(g-r)<=l&&!!I);if(!k[d])for(var M=0;M<=d;M++)k[M]||(k[M]={});(k[d].vx!=O||k[d].vy!=P||k[d].el!==f)&&(k[d].el=f,k[d].vx=O,k[d].vy=P,clearInterval(k[d].pid),(0!=O||0!=P)&&(u=!0,k[d].pid=setInterval(function(){o&&0===this.layer&&m.active._onTouchMove(ht);var t=k[this.layer].vy?k[this.layer].vy*s:0,n=k[this.layer].vx?k[this.layer].vx*s:0;"function"==typeof i&&"continue"!==i.call(m.dragged.parentNode[z],n,t,e,ht,k[this.layer].el)||Gn(k[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&p!==c&&(p=fe(p,!1)));Lt=u}}),30),zn=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,i=e.activeSortable,a=e.dispatchSortableEvent,r=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=n||i;r();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);l(),s&&!s.el.contains(u)&&(a("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function Yt(){}function Ut(){}Yt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=Ie(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:zn},oe(Yt,{pluginName:"revertOnSpill"}),Ut.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:zn},oe(Ut,{pluginName:"removeOnSpill"}),m.mount(new er),m.mount(Ut,Yt);const tr="/EisvanaWikiPageCreator/staging/assets/icons/arrow.svg",nr={class:"gallery-item"},or=["href"],ir=["src","alt"],rr={class:"gallery-meta"},ar={style:{"word-break":"break-all"}},lr=w("span",{class:"has-text-weight-bold"},"Name: ",-1),sr=["value"],ur={class:"controlButtons"},cr={class:"handle",src:tr,title:"Move picture up or down",alt:"Move image via drag'n'drop"},dr=w("svg",{width:"36",height:"36"},[w("path",{d:"M2 25h32L18 9 2 25Z"})],-1),fr=[dr],pr=w("svg",{width:"36",height:"36"},[w("path",{d:"M2 11h32L18 27 2 11Z"})],-1),hr=[pr],gn=An({__name:"GalleryItem",props:{fileItem:{},isLoc:{type:Boolean}},setup(e){const t=On(),{galleryFiles:n,locationFiles:o}=Pn(t),i=e=>URL.createObjectURL(e),a=et(Array.isArray(O.galleryArray)?O.galleryArray:[]);function r(){"function"==typeof P.generateGalleryArray&&P.generateGalleryArray(),a.value=Array.isArray(O.galleryArray)?O.galleryArray:[]}function l(e,t){const i=n.value.indexOf(e),a=o.value.indexOf(e),r=(()=>{if(-1!==i)return n;if(-1!==a)return o;throw new Error("Couldn't find item!")})(),l=r.value.indexOf(e);if("up"===t&&l)r.value.splice(l-1,0,e),r.value.splice(l+1,1);else if("down"===t&&l!==r.value.length-1){const t=r.value.filter((t=>t!==e));t.splice(l+1,0,e),r.value=t}}return kn((()=>r())),(e,t)=>(R(),W("div",nr,[w("a",{class:"gallery-media",href:i(e.fileItem.file),target:"_blank",rel:"noopener noreferrer"},[w("img",{src:i(e.fileItem.file),alt:e.fileItem.file.name},null,8,ir)],8,or),w("div",rr,[w("p",ar,[lr,To(Re(e.fileItem.file.name),1)]),ue(w("div",null,[ue(w("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.fileItem.desc=t),onMousedown:r,onTouchstart:r},[(R(!0),W(_e,null,Me(a.value,(e=>(R(),W("option",{value:e,key:e},Re(e),9,sr)))),128))],544),[[ei,e.fileItem.desc]])],512),[[Te,a.value.length]]),w("div",null,[ue(w("input",{type:"text",placeholder:"Description","onUpdate:modelValue":t[1]||(t[1]=t=>e.fileItem.desc=t)},null,512),[[Qo,e.fileItem.desc]])])]),w("div",ur,[w("button",{class:"delete-icon is-clickable",title:"Remove picture from gallery",onClick:t[2]||(t[2]=t=>function(e){n.value=n.value.filter((t=>t!==e)),o.value=o.value.filter((t=>t!==e))}(e.fileItem))}," ❌ "),ue(w("img",cr,null,512),[[Te,!e.isLoc]]),ue(w("button",{class:"button moveButton",title:"Move up","data-move":"up",onClick:t[3]||(t[3]=t=>l(e.fileItem,"up"))},fr,512),[[Te,!e.isLoc]]),ue(w("button",{class:"button moveButton",title:"Move down","data-move":"down",onClick:t[4]||(t[4]=t=>l(e.fileItem,"down"))},hr,512),[[Te,!e.isLoc]])])]))}}),re=e=>(xo("data-v-41f8ad6d"),e=e(),Io(),e),mr={key:0,class:"gallery-preview-header"},gr=re((()=>w("label",{class:"has-text-weight-bold"},"Gallery Preview",-1))),vr={key:0,class:"gallery-preview"},br=re((()=>w("label",{class:"has-text-weight-bold is-block mb-1"},"Location Files",-1))),yr={id:"gallery"},Er=re((()=>w("div",null,"==Gallery==",-1))),wr=re((()=>w("div",null,"<gallery>",-1))),_r={id:"galleryOutput"},Sr=re((()=>w("div",null,"<gallery>",-1))),Tr=re((()=>w("br",null,null,-1))),Dr={key:0,id:"locationGallery"},xr=re((()=>w("div",null,"===Location===",-1))),Ir=re((()=>w("div",null,"<gallery>",-1))),Cr={id:"locationGalleryOutput"},Ar=re((()=>w("div",null,"<gallery>",-1))),Or=An({__name:"App",setup(e){const t=et(null),n=et(null),o=et(!1);kn((()=>{window.matchMedia("(pointer: coarse)").matches||!n.value||new m(n.value,{handle:".handle",animation:250,onUpdate:function(e){!function(e){const t=e.oldIndex,n=e.newIndex;if("number"!=typeof t||"number"!=typeof n)return;const o=a.value.splice(t,1);a.value.splice(n,0,o[0])}(e)}})}));const i=On(),{galleryFiles:a,locationFiles:r}=Pn(i);let l=0;function s(e){if(!(e.target instanceof HTMLInputElement))return;const n=e.target.files;if(!n)return;const o=Array.from(n),i=[],r=o.filter((e=>e.size>1e7));for(const e of r){const t=document.createElement("div");t.innerText=e.name,i.push(t.outerHTML)}const s=o.filter((e=>!r.includes(e)));(function(e,t){for(const n of[e].flat())t.value.unshift({id:l++,desc:"",file:n})})(Array.from(s),a),t.value&&_n(t.value,i.length?`The following file(s) exceed the 10MB upload limit and couldn't be added:${i.join("")}`:void 0),!q.galleryUploadShown&&(O.galleryExplanationExternal&&Co("Gallery",`${O.galleryExplanationExternal}\n\t<div class="mt-3"><span class="has-text-weight-bold">NOTE</span>: You can access this popup at any time by clicking on the "?" next to the gallery upload button.</div>`),q.galleryUploadShown=!0)}function c(e){a.value.push(e);const t=r.value.indexOf(e);r.value.splice(t,1)}function u(e){return e.file.name+(e.desc?"|"+e.desc:"")}function d(){o.value=!o.value}return Do((()=>{if(a.value.length+r.value.length>5&&("fauna"===O.pageType||"sandworm"===O.pageType)){const e=["Moon Page","Planet Page","System Page","Galaxy Map"],t=e.map((e=>e.toLowerCase())),n=a.value.filter((e=>t.includes(e.desc.toLowerCase())));for(let o=n.length-1;o>=0;o--){const i=n[o],l=t.indexOf(i.desc.toLowerCase());i.desc=e[l],r.value.push(i);const s=a.value.indexOf(i);a.value.splice(s,1)}for(let e=r.value.length-1;e>=0;e--){const n=r.value[e];t.includes(n.desc.toLowerCase())||c(n)}r.value=e.flatMap((e=>r.value.filter((t=>t.desc===e))))}else for(let e=r.value.length-1;e>=0;e--)c(r.value[e])})),(e,i)=>(R(),W(_e,null,[w("input",{ref_key:"galleryUpload",ref:t,accept:"image/*",type:"file",id:"galleryUpload",multiple:"",onChange:s},null,544),(R(),Ve(zt,{to:"#galleryItems"},[se(a).length?(R(),W("div",mr,[gr,w("button",{class:"button",onClick:d},Re(o.value?"Show":"Hide"),1)])):gt("",!0),ue(w("div",null,[ue(w("div",{ref_key:"filePreview",ref:n,class:"gallery-preview"},[(R(!0),W(_e,null,Me(se(a),(e=>(R(),Ve(gn,{key:e.id,"file-item":e,"is-loc":!1},null,8,["file-item"])))),128))],512),[[Te,se(a).length]]),se(r).length?(R(),W("div",vr,[br,(R(!0),W(_e,null,Me(se(r),(e=>(R(),Ve(gn,{key:e.id,"file-item":e,"is-loc":!0},null,8,["file-item"])))),128))])):gt("",!0)],512),[[Te,!o.value]])])),(R(),Ve(zt,{to:"#gallery"},[w("div",yr,[Er,wr,w("div",_r,[(R(!0),W(_e,null,Me(se(a),(e=>(R(),W("div",{key:e.id},Re(u(e)),1)))),128))]),Sr]),Tr,se(r).length?(R(),W("div",Dr,[xr,Ir,w("div",Cr,[(R(!0),W(_e,null,Me(se(r),(e=>(R(),W("div",{key:e.id},Re(u(e)),1)))),128))]),Ar])):gt("",!0)]))],64))}}),Pr=(e,t)=>{const n=e.__vccOpts||e;for(const[e,o]of t)n[e]=o;return n},kr=Pr(Or,[["__scopeId","data-v-41f8ad6d"]]),qn=oi(kr);qn.use(Ao()),qn.mount("#galleryInput"),Oo(F.output.portalglyphButtons,"portalglyphsInput");const Nr=Po();Rt("pageType",Nr),ko(),Sn(),No(),q.uploadShown=!0,q.galleryUploadShown=!0,Tn(),q.debug||(q.uploadShown=!1,q.galleryUploadShown=!1),lt();const Vn=F.output.output;Vn.onmousedown=()=>Mo();for(const e of Array.from(Vn.children)){const t=e;t.onmouseup=e=>qt(e.target),t.ontouchend=e=>qt(e.target)}Lo();try{Cn(F.input.portalglyphsInput,"input")}catch{}Rt("eventListeners",!0);export{Ti as a,Di as b,Si as c,Br as d,_i as e,wi as f,Ht as g,Ei as h,yi as i,Fr as t};
