!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const Y=localStorage.getItem("theme");let Z=Y??"light";!Y&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(Z="dark"),"dark"==Z&&(document.documentElement.dataset.theme="dark"),Y||localStorage.setItem("theme",Z);const Gt='<button class="button" id="switchTheme">Switch light/dark mode</button>\n<div class="footerLinks">\n\t<button type="button" id="openSettingsBtn">Settings</button>\n\t<a href="./about.html" id="about">About</a>\n\t<a href="https://docs.google.com/forms/d/e/1FAIpQLSdXFIaHbeCWVsiaeIvcJL0A3aWiB5tQQFf2ofg0dr7lOkDChQ/viewform"\n\t\trel="noreferrer noopener" target="_blank">Feedback Form</a>\n</div>\n<dialog id="settings" class="modal-content content">\n\t<h2 class="title is-4">Global Preload Values</h2> \x3c!-- //NOSONAR\n\t\t(this is fine since this snippet is inserted somewhere else)--\x3e\n\t<div class="table">\n\t\t<div class="tableCell text">\n\t\t\t<label>Civ:</label>\n\t\t</div>\n\t\t<div class="tableCell data">\n\t\t\t<select id="civDefault" data-store="civInput">\n\t\t\t\t<option value="GHub">GHub</option>\n\t\t\t\t<option value="CalHub">CalHub</option>\n\t\t\t\t<option value="EisHub">EisHub</option>\n\t\t\t</select>\n\t\t</div>\n\t\t<div class="tableCell text">\n\t\t\t<label for="discoveredlinkDefault">Discoverer wiki name:</label>\n\t\t</div>\n\t\t<div class="tableCell data">\n\t\t\t<input id="discoveredlinkDefault" type="text"\n\t\t\t\tdata-store="discoveredlinkInput builderlinkInput ownerlinkInput">\n\t\t</div>\n\t\t<div class="tableCell text">\n\t\t\t<label for="discoveredDefault">Discoverer alias if no wiki:</label>\n\t\t</div>\n\t\t<div class="tableCell data">\n\t\t\t<input id="discoveredDefault" type="text" data-store="discoveredInput builderInput ownerInput">\n\t\t</div>\n\t\t<div class="tableCell text">\n\t\t\t<label for="docbyDefault">Documenter alias if not discoverer:</label>\n\t\t</div>\n\t\t<div class="tableCell data">\n\t\t\t<input id="docbyDefault" type="text" data-store="docbyInput">\n\t\t</div>\n\t\t<div class="tableCell text">\n\t\t\t<label for="systemDefault">Name of the system:</label>\n\t\t</div>\n\t\t<div class="tableCell data">\n\t\t\t<input id="systemDefault" type="text" data-store="systemInput">\n\t\t</div>\n\t\t<div class="tableCell text">\n\t\t\t<label for="planetDefault">Name of the planet:</label>\n\t\t</div>\n\t\t<div class="tableCell data">\n\t\t\t<input id="planetDefault" type="text" data-store="planetInput">\n\t\t</div>\n\t\t<div class="tableCell text">\n\t\t\t<label for="moonDefault">Name of the moon:</label>\n\t\t</div>\n\t\t<div class="tableCell data">\n\t\t\t<input id="moonDefault" type="text" data-store="moonInput">\n\t\t</div>\n\t\t<div class="tableCell text">\n\t\t\t<label>Platform:</label>\n\t\t</div>\n\t\t<div class="tableCell data">\n\t\t\t<select id="platformDefault" data-store="platformInput">\n\t\t\t\t<option value="PC">PC</option>\n\t\t\t\t<option value="PS">PlayStation</option>\n\t\t\t\t<option value="XB">Xbox</option>\n\t\t\t\t<option value="NS">Switch</option>\n\t\t\t\t<option value="Mac">Mac</option>\n\t\t\t</select>\n\t\t</div>\n\t\t<div class="tableCell text">\n\t\t\t<label>Chapter:</label>\n\t\t</div>\n\t\t<div class="tableCell data">\n\t\t\t<select id="researchteamDefault" data-store="researchteamInput">\n\t\t\t</select>\n\t\t</div>\n\t\t<div class="tableCell text">\n\t\t\t<div class="label-combo">\n\t\t\t\t<label for="portalglyphsDefault">Portalglyphs:</label>\n\t\t\t\t<button class="button is-small is-danger" type="button" id="glyphDeleteDefault"\n\t\t\t\t\tdata-input-bind="portalglyphsDefault">&larr; Delete</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="tableCell data">\n\t\t\t<input type="text" id="portalglyphsDefault" maxlength="12" data-store="portalglyphsInput">\n\t\t</div>\n\t\t<div class="tableHeader data">\n\t\t\t<div id="settingsPortalglyphButtons" class="portalglyphButtons"></div>\n\t\t\t<output id="settingsPortalglyphsPreview" class="glyph portalglyphsPreview"></output>\n\t\t</div>\n\t\t<div class="tableCell text">\n\t\t\t<label>System wealth:</label>\n\t\t</div>\n\t\t<div class="tableCell data">\n\t\t\t<select id="wealthDefault" data-store="wealthInput">\n\t\t\t\t<optgroup label="T3">\n\t\t\t\t\t<option value="â˜…â˜…â˜… (Advanced)">Advanced</option>\n\t\t\t\t\t<option value="â˜…â˜…â˜… (Affluent)">Affluent</option>\n\t\t\t\t\t<option value="â˜…â˜…â˜… (Booming)">Booming</option>\n\t\t\t\t\t<option value="â˜…â˜…â˜… (Flourishing)">Flourishing</option>\n\t\t\t\t\t<option value="â˜…â˜…â˜… (High Supply)">High Supply</option>\n\t\t\t\t\t<option value="â˜…â˜…â˜… (Opulent)">Opulent</option>\n\t\t\t\t\t<option value="â˜…â˜…â˜… (Prosperous)">Prosperous</option>\n\t\t\t\t\t<option value="â˜…â˜…â˜… (Wealthy)">Wealthy</option>\n\t\t\t\t</optgroup>\x3c!-- here ends T3--\x3e\n\t\t\t\t<optgroup label="T2">\n\t\t\t\t\t\x3c!--here begins T2--\x3e\n\t\t\t\t\t<option value="â˜…â˜… (Adequate)">Adequate</option>\n\t\t\t\t\t<option value="â˜…â˜… (Balanced)">Balanced</option>\n\t\t\t\t\t<option value="â˜…â˜… (Comfortable)">Comfortable</option>\n\t\t\t\t\t<option value="â˜…â˜… (Developing)">Developing</option>\n\t\t\t\t\t<option value="â˜…â˜… (Medium Supply)">Medium Supply</option>\n\t\t\t\t\t<option value="â˜…â˜… (Promising)">Promising</option>\n\t\t\t\t\t<option value="â˜…â˜… (Satisfactory)">Satisfactory</option>\n\t\t\t\t\t<option value="â˜…â˜… (Sustainable)">Sustainable</option>\n\t\t\t\t</optgroup>\x3c!-- here ends T2--\x3e\n\t\t\t\t<optgroup label="T1">\n\t\t\t\t\t\x3c!--here begins T1--\x3e\n\t\t\t\t\t<option value="â˜… (Declining)">Declining</option>\n\t\t\t\t\t<option value="â˜… (Destitute)">Destitute</option>\n\t\t\t\t\t<option value="â˜… (Failing)">Failing</option>\n\t\t\t\t\t<option value="â˜… (Fledgling)">Fledgling</option>\n\t\t\t\t\t<option value="â˜… (Low Supply)">Low Supply</option>\n\t\t\t\t\t<option value="â˜… (Struggling)">Struggling</option>\n\t\t\t\t\t<option value="â˜… (Unsuccessful)">Unsuccessful</option>\n\t\t\t\t\t<option value="â˜… (Unpromising)">Unpromising</option>\n\t\t\t\t</optgroup>\n\t\t\t\t\x3c!--here ends T1--\x3e\n\t\t\t\t<optgroup label="Pirate">\n\t\t\t\t\t<option value="ðŸ’€ (Black Market)">Black Market</option>\n\t\t\t\t</optgroup>\n\t\t\t\t<optgroup label="Abandoned/Uncharted">\n\t\t\t\t\t<option value="">Data Unavailable</option>\n\t\t\t\t</optgroup>\n\t\t\t</select>\n\t\t</div>\n\n\t</div>\n\t<p>If you experience weird behaviour, restore the defaults and click "Set".</p>\n\t<form method="dialog">\n\t\t<button class="button is-primary" type="submit" id="submitDefault">Set</button>\n\t\t<button class="button is-danger" type="submit" autofocus>Cancel</button>\n\t\t<button class="button is-warning" type="reset" id="resetDefault">Restore Defaults</button>\n\t</form>\n</dialog>',Nt="aeiou",Ot="https://nomanssky.fandom.com/wiki/",De={},b={},B={text:"",copy:!1,link:""},h={input:{},output:{}},q={},J=[],G={},N={},j={GHub:{F9556C30:"The Arm of Vezitinen",F9555C30:"Canthian",F9555C31:"Dexterf Sector",F9556C31:"The Arm of Katteus",F9557C31:"Nugsdor Adjunct",F9557C30:"Uefert Nebula",F9557C2F:"Widraik",F9556C2F:"Airnaka Conflux",F9555C2F:"Sivess Instability",FA556C30:"Savenix Instability",F8556C30:"Nonlopsi Instability"},CalHub:{F9556C30:"Uisaor Spur",F9555C30:"The Arm of Kiffeyn",F9555C31:"Ilongl Cloud",F9556C31:"The Arm of Taticale",F9557C31:"Egerap Anomaly",F9557C30:"Wakestones Expanse",F9557C2F:"Erhahn Fringe",F9556C2F:"Imrikians Terminus",F9555C2F:"Imedeili",FA556C30:"Kovasu Adjunct",F8556C30:"Lossians Boundary"},EisHub:{F9556C30:"Riwala",F9555C30:"Omskio Instability",F9555C31:"Marcki",F9556C31:"Anolamga Spur",F9557C31:"Sea of Zonyayp",F9557C30:"Rayuyar Band",F9557C2F:"Umaton Instability",F9556C2F:"Exramb Adjunct",F9555C2F:"Ologowe Fringe",FA556C30:"Yatrifex",FA555C30:"Yeiada Sector",FA555C31:"Iptrevs Fringe",FA556C31:"Yamiraith Sector",FA557C31:"Wedragi Spur",FA557C30:"Rezhensk",FA557C2F:"Sobert Cloud",FA556C2F:"Umtats Anomaly",FA555C2F:"Tavill",F8556C30:"Qangew Expanse",F8555C30:"Nijhwal Boundary",F8555C31:"Usband Cluster",F8556C31:"Ejongaa Anomaly",F8557C31:"Zahrel Expanse",F8557C30:"The Arm of Fupand",F8557C2F:"Cuculta",F8556C2F:"Etmarao",F8555C2F:"Otreie Void"}},ot={FA555C30:"Wekeram Conflux",FA555C31:"Ahomas Fringe",FA556C31:"Nudryorob Fringe",FA557C31:"Urzews Instability",FA557C30:"Ercays",FA557C2F:"Dahiloci Conflux",FA556C2F:"Rapphosu",FA555C2F:"Kemurrim Expanse",F8555C30:"Ardarea Sector",F8555C31:"Cetrocho Spur",F8556C31:"Guitat Cloud",F8557C31:"Unceto Cloud",F8557C30:"Yamurab Instability",F8557C2F:"Tenavata Terminus",F8556C2F:"Menacaro",F8555C2F:"Ziessuw Mass"},jt=b.huburbs;jt&&yt(j),Object.freeze(j);const _={input:{version:"versionInput",civ:"civInput",fileInput:"fileInput",fileUpload:"fileUpload",portalglyphsInput:"portalglyphsInput",researchTeam:"researchteamInput",galleryUpload:"galleryUpload"},output:{output:"output",portalglyphButtons:"portalglyphButtons",galleryItems:"galleryItems",galleryCode:"galleryCode",explanation:"explanation",fullArticle:"fullArticle",actions:"actions",albumActions:"albumActions",albumEntry:"albumEntry",footer:"footer"}};function Pt(t){for(const e of Object.entries(t)){const t=e[0],n=e[1];for(const[e,o]of Object.entries(n)){const n=P(o);null!=n&&(h[t]??(h[t]={}),h[t][e]=n.length>1?n:n[0])}}}function P(t){const e=Array.from(document.getElementsByName(t));if(!e.length){const n=document.getElementById(t);n&&e.push(n)}return e}function Te(){const t=document.querySelectorAll("input, select, textarea"),e=Object.values(_.input);for(const n of Array.from(t))e.includes(n.id)||(_.input[n.id]=n.id)}function Me(){const t=document.getElementsByTagName("output"),e=Object.values(_.output);for(const n of Array.from(t)){if(e.includes(n.name)||e.includes(n.id))continue;const t=n.name||n.id;_.output[t]=t}}const at=["Singularity","Interceptor","Fractal","Waypoint","Endurance","Outlaws","SentinelUp","Frontiers","Prisms","Expeditions","Companions","NextGen","Origins","Desolation","Crossplay","ExoMech","Living Ship","Synthesis","Beyond","Visions","Abyss","NEXT","Atlas Rises","Pathfinder","Foundation","Release"];var Ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dt={exports:{}};!function(t){!function(e){function n(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function o(t,e,o,a,l,i){return n(function(t,e){return t<<e|t>>>32-e}(n(n(e,t),n(a,i)),l),o)}function a(t,e,n,a,l,i,r){return o(e&n|~e&a,t,e,l,i,r)}function l(t,e,n,a,l,i,r){return o(e&a|n&~a,t,e,l,i,r)}function i(t,e,n,a,l,i,r){return o(e^n^a,t,e,l,i,r)}function r(t,e,n,a,l,i,r){return o(n^(e|~a),t,e,l,i,r)}function s(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var o,s,u,c,d,p=1732584193,f=-271733879,m=-1732584194,g=271733878;for(o=0;o<t.length;o+=16)s=p,u=f,c=m,d=g,p=a(p,f,m,g,t[o],7,-680876936),g=a(g,p,f,m,t[o+1],12,-389564586),m=a(m,g,p,f,t[o+2],17,606105819),f=a(f,m,g,p,t[o+3],22,-1044525330),p=a(p,f,m,g,t[o+4],7,-176418897),g=a(g,p,f,m,t[o+5],12,1200080426),m=a(m,g,p,f,t[o+6],17,-1473231341),f=a(f,m,g,p,t[o+7],22,-45705983),p=a(p,f,m,g,t[o+8],7,1770035416),g=a(g,p,f,m,t[o+9],12,-1958414417),m=a(m,g,p,f,t[o+10],17,-42063),f=a(f,m,g,p,t[o+11],22,-1990404162),p=a(p,f,m,g,t[o+12],7,1804603682),g=a(g,p,f,m,t[o+13],12,-40341101),m=a(m,g,p,f,t[o+14],17,-1502002290),p=l(p,f=a(f,m,g,p,t[o+15],22,1236535329),m,g,t[o+1],5,-165796510),g=l(g,p,f,m,t[o+6],9,-1069501632),m=l(m,g,p,f,t[o+11],14,643717713),f=l(f,m,g,p,t[o],20,-373897302),p=l(p,f,m,g,t[o+5],5,-701558691),g=l(g,p,f,m,t[o+10],9,38016083),m=l(m,g,p,f,t[o+15],14,-660478335),f=l(f,m,g,p,t[o+4],20,-405537848),p=l(p,f,m,g,t[o+9],5,568446438),g=l(g,p,f,m,t[o+14],9,-1019803690),m=l(m,g,p,f,t[o+3],14,-187363961),f=l(f,m,g,p,t[o+8],20,1163531501),p=l(p,f,m,g,t[o+13],5,-1444681467),g=l(g,p,f,m,t[o+2],9,-51403784),m=l(m,g,p,f,t[o+7],14,1735328473),p=i(p,f=l(f,m,g,p,t[o+12],20,-1926607734),m,g,t[o+5],4,-378558),g=i(g,p,f,m,t[o+8],11,-2022574463),m=i(m,g,p,f,t[o+11],16,1839030562),f=i(f,m,g,p,t[o+14],23,-35309556),p=i(p,f,m,g,t[o+1],4,-1530992060),g=i(g,p,f,m,t[o+4],11,1272893353),m=i(m,g,p,f,t[o+7],16,-155497632),f=i(f,m,g,p,t[o+10],23,-1094730640),p=i(p,f,m,g,t[o+13],4,681279174),g=i(g,p,f,m,t[o],11,-358537222),m=i(m,g,p,f,t[o+3],16,-722521979),f=i(f,m,g,p,t[o+6],23,76029189),p=i(p,f,m,g,t[o+9],4,-640364487),g=i(g,p,f,m,t[o+12],11,-421815835),m=i(m,g,p,f,t[o+15],16,530742520),p=r(p,f=i(f,m,g,p,t[o+2],23,-995338651),m,g,t[o],6,-198630844),g=r(g,p,f,m,t[o+7],10,1126891415),m=r(m,g,p,f,t[o+14],15,-1416354905),f=r(f,m,g,p,t[o+5],21,-57434055),p=r(p,f,m,g,t[o+12],6,1700485571),g=r(g,p,f,m,t[o+3],10,-1894986606),m=r(m,g,p,f,t[o+10],15,-1051523),f=r(f,m,g,p,t[o+1],21,-2054922799),p=r(p,f,m,g,t[o+8],6,1873313359),g=r(g,p,f,m,t[o+15],10,-30611744),m=r(m,g,p,f,t[o+6],15,-1560198380),f=r(f,m,g,p,t[o+13],21,1309151649),p=r(p,f,m,g,t[o+4],6,-145523070),g=r(g,p,f,m,t[o+11],10,-1120210379),m=r(m,g,p,f,t[o+2],15,718787259),f=r(f,m,g,p,t[o+9],21,-343485551),p=n(p,s),f=n(f,u),m=n(m,c),g=n(g,d);return[p,f,m,g]}function u(t){var e,n="",o=32*t.length;for(e=0;e<o;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function c(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var o=8*t.length;for(e=0;e<o;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function d(t){var e,n,o="0123456789abcdef",a="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),a+=o.charAt(e>>>4&15)+o.charAt(15&e);return a}function p(t){return unescape(encodeURIComponent(t))}function f(t){return function(t){return u(s(c(t),8*t.length))}(p(t))}function m(t,e){return function(t,e){var n,o,a=c(t),l=[],i=[];for(l[15]=i[15]=void 0,a.length>16&&(a=s(a,8*t.length)),n=0;n<16;n+=1)l[n]=909522486^a[n],i[n]=1549556828^a[n];return o=s(l.concat(c(e)),512+8*e.length),u(s(i.concat(o),640))}(p(t),p(e))}function g(t,e,n){return e?n?m(e,t):function(t,e){return d(m(t,e))}(e,t):n?f(t):function(t){return d(f(t))}(t)}t.exports?t.exports=g:e.md5=g}(Ut)}(dt);var Rt=dt.exports;const qt=$t(Rt);function K(t){return Array.isArray(t)&&(t=t.join("")),qt(t)}function _t(t){var e;const n=[t].flat(),o=K(n[0].outerHTML);for(const t of n)(e=t.dataset).hash||(e.hash=o);return n[0].dataset.hash}function $(t){if(Array.isArray(t.element)){const e=structuredClone(t.element);for(const n of e)t.element=n,$(t);return}if(!b.eventListeners&&!["about",""].includes(be()))return void zt(t);const{handler:e,func:n}=t,o=[pt(t.element)].flat();for(const t of o){gt(t,mt(e,t),n)}}function ft(t){for(const e of t)$(e)}function pt(t){return"string"!=typeof t?t:h.input[t]?h.input[t]:P(t)}function mt(t,e){var n;const o=null==(n=null==e?void 0:e.tagName)?void 0:n.toLowerCase(),a="input"==o?e.type:"";return t??("select"==o||"radio"==a||"checkbox"==a?"change":"input")}function zt(t){const e=[t].flat();for(const t of e){const e=pt(t.element);if(Array.isArray(e)&&!e.length)continue;const n=_t(e),o=mt(t.handler,e);G[n]??(G[n]={}),G[n][o]||(G[n][o]={element:e,func:[]}),G[n][o].func[t.prio?"unshift":"push"](t.func)}}function Be(){for(const[,t]of Object.entries(G))for(const[e,n]of Object.entries(t))for(const t of n.func){const o=[n.element].flat();for(const n of o)gt(n,e,t),delete n.dataset.hash}}function gt(t,e,n){var o;null==t||t.addEventListener(e,n),((o=t.dataset).listeners??(o.listeners=e)).split(" ").includes(e)||(t.dataset.listeners+=` ${e}`)}const Le='\n\t<h2 id="explanationHeading" class="title is-4"></h2>\n\t<div id="explanationContent" class="nms-font"></div>\n\t<a id="explanationLink" target="_blank" rel="noopener noreferrer">\n\t\t<picture>\n\t\t\t<source type="image/avif" id="explanationAvifImg">\n\t\t\t<source type="image/webp" id="explanationWebpImg">\n\t\t\t<img id="explanationFallbackImg" alt="Explainer Image">\n\t\t</picture>\n\t</a>\n\t<form method="dialog">\n\t\t<button class="button" type="submit" autofocus>Close</button>\n\t</form>',rt=new Set;function z(t="",e="",n=""){const o=h.output.explanationFallbackImg,a=h.output.explanationWebpImg,l=h.output.explanationAvifImg,i=h.output.explanationLink,r=h.output.explanation;if(n){const t=rt.has(n);if(i.classList.toggle("loading",!t),!t||o.getAttribute("src")!=`./assets/images/jpg/${n}.jpg`){const e={avif:l,webp:a,jpg:o};for(const[t,o]of Object.entries(e)){const e="IMG"==o.tagName?"src":"srcset";o[e]="",setTimeout((()=>{o[e]=`./assets/images/${t}/${n}.${t}`}),0)}i.href=`./assets/images/jpg/${n}.jpg`,t||(o.style.opacity="0",o.style.marginBlockStart="0")}}i.style.display=n?"":"none",h.output.explanationHeading.innerText=t,h.output.explanationContent.innerHTML=e,r.style.translate="0 -100vh",r.showModal(),r.style.translate="0 0",r.scrollTo(0,0),o.onload=()=>{o.style.marginBlockStart="1rem",o.style.opacity="1",rt.add(n)}}function Ge(t=document){const e=t.querySelectorAll("button.tooltip");for(const t of Array.from(e))n(t);function n(t){const e=t.getElementsByTagName("data");if(!e.length)return;const n=[];for(const t of Array.from(e)){const e=t.innerHTML;n.push(e)}const o=document.createElement("img");o.src="./assets/icons/help.svg",o.alt="Help";const a=document.createElement("p");a.classList.add("tooltiptext","nms-font"),a.innerHTML=n.shift(),n.length?$({element:t,handler:"click",func:()=>z(...n)}):t.setAttribute("aria-disabled","true"),t.innerHTML=o.outerHTML,t.appendChild(a)}}function Wt(t=b.moon){return t?"Moon":"Planet"}function Vt(t=b.planet,e=b.moon){const n=h.output.celestialBody,o="Moon"==Wt(e)?`moon [[${L(e)}]]`:`planet [[${L(t)}]]`;return n?(n.innerText=o,""):o}function Ne(t){switch(t){case"GHub":return"[[Galactic Hub]]";case"CalHub":return"[[Galactic Hub Calypso]], in the [[Calypso]] [[galaxy]]";case"EisHub":return"[[Galactic Hub Eissentam]], in the [[Eissentam]] [[galaxy]]"}return""}function Qt(t){for(const e in j){const n=j[e],o=Object.values(n).indexOf(t);if("GHub"==e&&o>10)return"Huburb";if(-1!=o)return(o+1).toString()}return""}function Oe(t){const e=Qt(t);return"Huburb"==e?", Huburb":` (HUB${e})`}const Yt='<div id="${galleryId}" class="gallery-item">\n\t<a class="gallery-media" href=${imgUrlData} target="_blank" rel="noopener noreferrer">\n\t\t<img src="${imgUrlData}"> \x3c!-- //NOSONAR we don\'t know the image content, so can\'t provide an alt tag --\x3e\n\t</a>\n\t<div class="gallery-meta">\n\t\t${nameElement}\n\t\t<div><select id="${dropdownId}" data-evt-id="dropdown"></select>\n\t\t</div>\n\t\t<div><input id="${inputId}" type="text" placeholder="Description" data-evt-id="pic"></div>\n\t</div>\n\t<div class="controlButtons">\n\t\t<button class="delete-icon is-clickable" title="Remove picture from gallery" data-evt-id="removeButton">&#10060</button>\n\t\t<img class="handle" src="./assets/icons/arrow.svg" title="Move picture up or down"\n\t\t\talt="Move image via drag\'n\'drop">\n\t\t<button class="button moveButton" title="Move up" data-move="up" data-evt-id="move">\n\t\t\t<svg width="36" height="36">\n\t\t\t\t<path d="M2 25h32L18 9 2 25Z"></path>\n\t\t\t</svg>\n\t\t</button>\n\t\t<button class="button moveButton" title="Move down" data-move="down" data-evt-id="move">\n\t\t\t<svg width="36" height="36">\n\t\t\t\t<path d="M2 11h32L18 27 2 11Z"></path>\n\t\t\t</svg>\n\t\t</button>\n\t</div>\n</div>';function Zt(){var t;const e=h.input.galleryUpload;if(null==e||!e.value)return;const n=h.output.galleryItems,o=h.output.galleryCode,a=[];if(null!=(t=e.files)&&t.length){for(const t of Array.from(e.files)){const e=t.name,l=1e7;if(t.size>l){a.push(e);continue}const i=n.children,r=Et(Array.from(i),"id"),s=(()=>{const t=document.createElement("p"),n=document.createElement("span");return t.innerText=e,n.classList.add("has-text-weight-bold"),n.innerText="Name: ",t.insertAdjacentElement("afterbegin",n),t.outerHTML})(),u={imgUrlData:URL.createObjectURL(t),inputId:"pic"+r,dropdownId:"dropdown"+r,galleryId:"gallery"+r,wikiCodeGalleryId:"wikiCodeGallery"+r,wikiCodeGalleryValueId:"wikiCodeGalleryValue"+r,nameElement:s},c=ye(Yt,u,[{element:"move",handler:"click",func:function(){Xt(this,u.wikiCodeGalleryId,this.dataset.move)}},{element:"dropdown",handler:"change",func:function(){Jt(this,u.inputId,u.wikiCodeGalleryValueId)}},{element:"pic",handler:"input",func:function(){ht(this,u.wikiCodeGalleryValueId)}},{element:"removeButton",handler:"click",func:function(){Kt(this,u.wikiCodeGalleryId)}}]),d=c.getElementById(u.dropdownId);"function"==typeof q.generateGalleryArray&&q.generateGalleryArray();const p=b.galleryArray;p?X(d,p):d.parentElement.style.display="none";const f=`<div id="${u.wikiCodeGalleryId}">\n\t\t<span>${e}</span><output id="${u.wikiCodeGalleryValueId}"></output>\n\t\t</div>`;ve(c,n,"afterbegin"),o.insertAdjacentHTML("afterbegin",f)}D(e,a.length?`The following file(s) exceed the 10MB upload limit and couldn't be added:<br>${a.join(",<br>")}`:void 0),!N.galleryUploadShown&&(N.galleryExplanationExternal&&z("Gallery",`${b.galleryExplanationExternal}\n\t\t<div class="mt-3"><span class="has-text-weight-bold">NOTE</span>: You can access this popup at any time by clicking on the "?" next to the gallery upload button.</div>`),N.galleryUploadShown=!0)}}function Jt(t,e,n){const o=t.value,a=document.getElementById(e);a.value=o,ht(a,n)}function ht(t,e){const n=L(t.value);document.getElementById(e).innerText=n?"|"+n:""}function Kt(t,e){document.getElementById(e).remove(),t.closest(".gallery-item").remove()}function je(t){const e=t.oldIndex,n=t.newIndex,o=document.getElementById("galleryCode");if(!o)return;const a=Array.from(o.children),l=a.splice(e,1);a.splice(n,0,l[0]);const i=[];for(const t of a){const e=t.outerHTML;i.push(e)}o.innerHTML=i.join("")}function Xt(t,e,n){const o=[t.closest(".gallery-item"),document.getElementById(e)];for(const t of o){if(!t)return;const e=t.parentNode;if(!e)return;"up"==n&&t.previousElementSibling?e.insertBefore(t,t.previousElementSibling):"down"==n&&t.nextElementSibling&&e.insertBefore(t,t.nextElementSibling.nextElementSibling)}}function Pe(){h.output.galleryItems.innerHTML=""}function yt(t){t.GHub??(t.GHub={});for(const e in ot)t.GHub[e]=ot[e]}function bt(){return{inputs:document.querySelectorAll("[data-dest]"),checkboxes:document.querySelectorAll("[data-dest-checkbox]"),stores:document.querySelectorAll("[data-dest-noauto]"),defaults:document.querySelectorAll("[data-default]"),simple:document.querySelectorAll("[data-dest-simple]"),number:document.querySelectorAll("[data-dest-number]"),lists:document.querySelectorAll("[list]")}}function Ue(){const t=structuredClone(at),e=t.indexOf("SentinelUp");t.splice(e,1,"Sentinel");const n=h.input.version;n&&X(n,at,t)}function X(t,e,n=e){const o=[];for(let t=0;t<e.length;t++){const a=e[t],l=n[t],i=document.createElement("option");i.value=a,i.innerText=l,o.push(i.outerHTML)}const a=o.join("");t.innerHTML!=a&&(t.innerHTML=a)}function $e(){const t=bt(),e=[{elements:t.number,func:function(){et(this,parseInt(this.dataset.destNumber)||void 0)}},{elements:t.defaults,func:function(){At(this)}},{elements:t.inputs,func:function(){x(this)}},{elements:t.checkboxes,func:function(){vt(this)}},{elements:t.stores,func:function(){St(this)}},{elements:t.simple,func:function(){Ct(this)}},{elements:t.lists,handler:"change",func:function(){pe(this)}}],n=[];for(const t of e){const{elements:e,handler:o,func:a}=t;for(const t of Array.from(e)){const e={element:t,handler:o,prio:!0,func:a};n.push(e)}}ft(n)}function Re(){const t=bt();for(const e of Array.from(t.inputs))x(e);for(const e of Array.from(t.checkboxes))vt(e);for(const e of Array.from(t.stores))St(e);for(const e of Array.from(t.defaults))At(e);for(const e of Array.from(t.simple))Ct(e);et(),ne(),ae(h.input.fileUpload),Zt();try{wt(h.input.portalglyphsInput)}catch{}try{Vt()}catch{}O()}function x(t,e=(e=>null==(e=null==t?void 0:t.dataset)?void 0:e.dest)()){const n="string"==typeof e?P(e):[],o=L("string"==typeof t?t:t.value);if(e)b[e]=o;else if("string"!=typeof t){if(!t.dataset.destNoauto)return;return void(b[t.dataset.destNoauto]=o)}for(const e of n)try{e.innerText=o}catch(e){console.error("destElement is null. Element:",t,"Value:",o,"Stacktrace:",e);continue}}function vt(t){const e=t.dataset.destCheckbox,n=document.getElementById(e),o=t.value,a=t.dataset.checkboxUnchecked??"";t.checked?(n.innerText=o,b[e]=o):(n.innerText=a,b[e]=a)}function St(t,e=t.dataset.destNoauto){b[e]=L(t.value)}function te(){const t=t=>new URL(t).origin!==location.origin,e=document.getElementsByTagName("a");for(const n of Array.from(e))n.href&&t(n.href)&&(n.target||(n.target="_blank"),n.rel||(n.rel="noopener noreferrer"))}function ee(){const t=document.querySelectorAll("a[data-wiki]");for(const e of Array.from(t)){e.target||(e.target="_blank"),e.rel||(e.rel="noopener noreferrer"),delete e.dataset.wiki;const t=e.getAttribute("href");t.startsWith("http")||(e.href=Ot+t)}}function Ct(t,e=t.dataset.destSimple){const n=Array.from(document.getElementsByName(e));n.length||n.push(document.getElementById(e));for(const e of n)e.innerText=t.value}function qe(t,e){Object.defineProperty(b,t,{configurable:!1,writable:!1,value:e})}function ne(){var t;const e=null==(t=null==h?void 0:h.input)?void 0:t.civ,n=null==e?void 0:e.value;if(!n)return;const o={galaxy:"",civilized:"",civStub:""};switch(n){case"GHub":o.galaxy="Euclid",o.civilized="Galactic Hub Project",o.civStub="GHub";break;case"CalHub":o.galaxy="Calypso",o.civilized="Galactic Hub Calypso",o.civStub="GHub Calypso";break;case"EisHub":o.galaxy="Eissentam",o.civilized="Galactic Hub Eissentam",o.civStub="GHub Eissentam"}b.civShort=n;for(const t in o)b[t]=o[t],P(t).length&&x(b[t],t);try{oe()}catch(t){console.warn(t)}}function oe(){tt();Ht(b.portalglyphs),se()}function L(t){const e=["{","}","[","]"],n=[],o=t.split("[http");for(let t=0;t<o.length;t++){const e=a(o[t],0!=t);n.push(e)}return n.join("[http").replace(/\n{3,}/g,"\n\n").trim();function a(t,n=!1){let o=t;for(const t of e)o=n&&"]"==t?i(o,t):l(o,t);return o}function l(t,e){const n=e.repeat(2);return t.split(n).map((t=>t.replaceAll(e,""))).join(n)}function i(t,e){const n=t.indexOf(e),o=l(t,e).split("");return o.splice(n,0,e),o.join("")}}function ae(t){var e,n;const o=null==(n=null==(e=null==t?void 0:t.files)?void 0:e[0])?void 0:n.name;if(!o)return;D(t,t.files[0].size>1e7?"This file is too big to be uploaded to the wiki. Maximum filesize is 10MB.":"");const a=t.previousElementSibling,l=L(o);a.value=l,x(a),!N.uploadShown&&(z("Upload your picture to the wiki!",'Don\'t forget to upload your picture to the wiki on <a href="https://nomanssky.fandom.com/wiki/Special:Upload?multiple=true" target="_blank" rel="noopener noreferrer">Special:Upload</a>.\n\tThe upload button only auto-filled the image name into the code, it is not automatically uploaded to the wiki.\n\t<div class="mt-3"><span class="has-text-weight-bold">NOTE</span>: You can access this popup at any time by clicking on the "?" next to the main image upload button.</div>'),N.uploadShown=!0)}function _e(t="",e=void 0,n="section"){var o,a;const l=document.querySelectorAll(`[data-${n}~="${t}"]`),i=document.querySelectorAll("[data-button-id]"),r=Et(Array.from(i),"dataset.buttonId");if(0==arguments.length){const t=document.querySelectorAll(".sectionToggle button");for(let e=0;e<t.length;e++){const n=t[e];(o=n.dataset).buttonId??(o.buttonId=(r+e).toString());const a=n.dataset.buttonId;n.dataset[`display${a}`]=n.dataset.displayDefault??""}return}(a=e.dataset).buttonId??(a.buttonId=r.toString());const s=`display${e.dataset.buttonId}`,u=e.dataset[s];for(const t of Array.from(l)){const e=t.dataset;let n=!1;for(const t in e)if(t.includes("display")&&t!=s&&"none"==e[t]){n=!0;break}n||(t.style.display=u?"":"none",t.dataset[s]=u?"":"none")}e.innerText=u?"Hide":"Show",e.dataset[s]=u?"":"none"}function tt(t=h.input.researchTeam,e=b.civShort){if(!t)return;const n=t.value,o=["","GHGS","GHEC","GHSH","GHDF","GHBG","GHSL","GHTD","HBS"];switch(e){case"CalHub":o.push("CalHub Archivists");break;case"EisHub":o.push("EisHub Scribes","EPC","The Eissentimes Press")}X(t,o),t.value=n,arguments.length||re()}function re(){const t=h.input.researchTeam,{value:e,dataset:{destNoauto:n}}=t;b[n]=e;const o=b.civilized,a=["base","racetrack"],l=2==e.split(" ").length?o+" "+e.split(" ")[1]:e||a.includes(b.pageType)?e:o;h.output[n].innerText=l}function se(){if("function"==typeof q.docByExternal)return void q.docByExternal();const t=h.input.docbyInput;if(!t)return;const e=L(t.value),n=b.discovered??b.builder,o=b.discoveredlink??b.builderlink,a=t.dataset.destNoauto;if(!a)return;const l=ie(),i=le(e),r=[n,o],s=h.output[a];e&&!r.includes(e)?(s.style.display="",s.innerText=`Documented by ${l} ${i}`):s.style.display="none",ce()}function ie(){const t=b.researchteam;if(!t)return t;const e=h.input.researchTeam.children,n=[];for(const t of Array.from(e))n.push(t.value);return n.indexOf(t)<4?`[[${t}]] researcher`:t.includes("Scribe")?"EisHub [[Galactic Hub Eissentam Scribes|Scribe]]":t.includes("Archivist")?"CalHub [[Galactic Hub Calypso Archivists|Archivist]]":`[[${t}]] member`}function le(t){return t&&(t.includes("[")||t.includes("{")?t:`''${t}''`)}function O(t="",e=""){var n,o,a,l;if(!t&&!e){const t=document.querySelectorAll("[data-player]"),e=new Set,i=[];for(const r of Array.from(t)){if(e.has(r))continue;const s=r.closest(".tableCell"),u=[null==(o=null==(n=null==s?void 0:s.previousElementSibling)?void 0:n.previousElementSibling)?void 0:o.querySelector("input"),null==(l=null==(a=null==s?void 0:s.nextElementSibling)?void 0:a.nextElementSibling)?void 0:l.querySelector("input")].find((e=>Array.from(t).includes(e))),c=[r,u];e.add(u),i.push(c)}for(const t of i){const e=t[0],n=t[1];null!=e&&e.value?O(e.id,n.id):null!=n&&n.value?O(n.id,e.id):t.forEach((t=>st(t,"")))}return}const i=document.getElementById(t),r=document.getElementById(e);st(r,i.value?"none":""),r.value="",x(r)}function ce(){var t,e;const n=document.querySelectorAll("[data-add-info]"),o=[];for(const a of Array.from(n))!(null!=(t=a.nextElementSibling)&&t.style.display)&&null!=(e=a.nextElementSibling)&&e.innerText&&o.push(a),a.innerHTML="";for(const t of o)if(o.length>1){const e=t.dataset.addInfo;t.innerHTML=e}else t.innerHTML=""}function D(t,e=""){var n;const o=t.closest(".data");if(null==(n=null==o?void 0:o.querySelector(".error"))||n.remove(),t.style.backgroundColor="",o.previousElementSibling.style.alignItems="",!e)return;t.style.backgroundColor="red";const a=document.createElement("div");a.innerHTML=e,a.className="error",o.appendChild(a),o.previousElementSibling.style.alignItems="baseline"}function ze(t=!0){const e=h.input.axesInput,n=e.value,o=new RegExp(/[+-](?:[0-9]{1,3})\.(?:[0-9]{2}), [+-](?:[0-9]{1,3})\.(?:[0-9]{2})/);if(n&&!ue(n,o))return t&&D(e,"Invalid coordinate format"),"error";D(e)}function st(t,e=""){const n=t.closest(".tableCell"),o=[n.previousElementSibling,n];for(const t of o)t.style.display?t.style.display=e??"":t.style.display=e??"none"}function We(t,e=void 0){var n,o;const a=null==(o=null==(n=RegExp(/[a-zA-Z]/).exec(t))?void 0:n[0])?void 0:o.toLowerCase(),l=Nt.includes(a)?"an":"a";return e&&x(l,e),l}function ue(t,e){var n;const o=RegExp(e).exec(t);return 1==(null==o?void 0:o.length)&&(null==(n=o[0])?void 0:n.length)==t.length}function Ve(t){return b.researchteam==t?` and documented by the [[Galactic Hub ${{GHSH:"Ship Hunters",GHEC:"Exobiology Corps"}[t]}]]`:""}function Qe(t){return"GHub"==t||"Galactic Hub Project"==t?"Galactic Hub":t}function et(t=null,e=void 0,n=!1){if(0==arguments.length){const t=document.querySelectorAll("[data-dest-number]");for(const e of Array.from(t)){const t=e.dataset.destNumber;et(e,parseInt(t)||void 0)}return}if(!t)return;const o=t.dataset.destNoauto,a=de(t,b[o],e,n);P(o)[0]?x(a.toString(),o):b[o]=a}function de(t,e=t.value,n=void 0,o=!1){const a=fe(e,n,o);return a||!e||["+","-"].includes(e)?D(t):D(t,"Must only contain numbers"),a}function fe(t,e=void 0,n=!1){const o=parseFloat(t.replaceAll(",","")),a=parseInt(String(e)),l=isNaN(o)?"":isNaN(a)?o:o.toFixed(a);return n||!l?l.toString():new Intl.NumberFormat("en-UK",{minimumFractionDigits:a||0}).format(l)}function Ye(t){for(const e in t){const n=document.createElement("datalist");n.id=e;for(const o of t[e]){const t=document.createElement("option");t.value=o,n.appendChild(t)}document.body.appendChild(n)}}function pe(t){var e;!(null==(e=t.list)?void 0:e.querySelector(`[value="${t.value}"]`))&&t.value&&"currencyInput"!=t.id?D(t,'Not a valid option. If you believe this is an error, submit a <a href="https://docs.google.com/forms/d/e/1FAIpQLSdXFIaHbeCWVsiaeIvcJL0A3aWiB5tQQFf2ofg0dr7lOkDChQ/viewform" rel="noreferrer noopener" target="_blank">bug report</a>.'):D(t)}function It(t=null,e=!1){var n;if(N.debug)return"";const o=K(JSON.stringify(b)),a=B.text,{name:l,portalglyphs:i,region:r}=b;return l&&i&&r&&(o==a&&B.link===(null==(n=null==t?void 0:t.dataset)?void 0:n.link)&&B.copy||e)?(B.copy=!1,B.link="",""):l?i&&r?"Copy Code First!":"Wrong Glyphs!":"Missing Name!"}function it(t){if(!t)return"";return t.replace(/\r?\n|\r/g,"")}function Ze(t){var e,n;const o=null==(e=document.getElementById("switchTheme"))?void 0:e.innerText,a=t.closest(".wikiText"),l=it(null==a?void 0:a.innerText).trim(),i=(()=>{const t=it(window.getSelection().toString()).trim();return t.endsWith(o)?t.replace(o,"").trim():t})();B.text=K(JSON.stringify(b)),B.copy=l==i,B.link=null==(n=null==a?void 0:a.dataset)?void 0:n.link}function me(){document.body.dataset.mark=N.debug?(!0).toString():(!It(null,!0)).toString()}function Je(){const t=It(null,!0);t&&(z("Missing/Incorrect Data",t),me())}function At(t,e=t.dataset.default){if(t.value.trim())return;x(e,t.dataset.dest??t.dataset.destNoauto)}function ge(t){for(const e of t)e.remove()}function Ke(t,e="section"){const n=document.querySelectorAll(`[data-${e}="${t}"]`);ge(Array.from(n))}function Xe(){const t=b.oldName,e=h.output.oldName.parentElement;e&&(e.style.display=t?"":"none")}function Et(t,e){const n=[0];for(const a of t){const t=Q(o(a,e));n.push(t)}return n.sort((function(t,e){return t-e})),n[n.length-1]+1;function o(t,e){if(typeof t>"u")return!1;const n=e.indexOf(".");return n>-1?o(t[e.substring(0,n)],e.substring(n+1)):t[e]}}function he(t,e=!1){const n={};if(!e)return Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),n);const o=Object.keys(he(t)),a=o.map((t=>Q(t))).map(Number).sort(((t,e)=>t-e));for(const e of a){const a=o.findIndex((t=>Q(t)==e.toString())),l=o[a];o.splice(a,1),n[l]=t[l]}return n}function Q(t){var e;const n=null==(e=null==t?void 0:t.match(/[0-9]/g))?void 0:e.join("");return n?parseInt(n):""}function tn(t){return t%2==0?"even":"odd"}function ye(t,e={},n=[]){let o=t;for(const t in e)o=o.replaceAll("${"+t+"}",e[t]);if(0==n.length)return o;const a=(new DOMParser).parseFromString(o,"text/html");for(const t of n){const e=a.querySelectorAll(`[data-evt-id="${t.element}"]`);for(const n of Array.from(e))$({element:n,handler:t.handler??void 0,func:t.func})}return a}function W(t,e){const n=new Event(e);t.dispatchEvent(n)}function be(){return window.location.pathname.split("/").at(-1).slice(0,-5)}function ve(t,e,n="afterbegin"){const o=Array.from(t.body.children);("afterbegin"==n||"afterend"==n)&&o.reverse();for(const t of o)e.insertAdjacentElement(n,t)}const kt="0123456789ABCDEF";function Se(t,e){if(!t)return;const n=[];for(const t of kt){const e=o(t);n.push(e)}t.innerHTML="";for(const e of n)t.appendChild(e);function o(t){const n=document.createElement("button"),o=document.createElement("span");return n.type="button",n.dataset.inputBind=e,n.classList.add("button"),n.value=t,n.addEventListener("click",(function(){Ce(this)})),o.classList.add("glyph","icon","is-small"),o.innerText=t,n.appendChild(o),n}}function Ce(t){var e,n,o;const a=(null==(e=null==t?void 0:t.dataset)?void 0:e.inputBind)??"",l=h.input[a]??document.getElementById(a)??(null==(o=null==(n=null==t?void 0:t.closest(".tableHeader"))?void 0:n.previousElementSibling)?void 0:o.querySelector("input"));l.value.length<12&&(l.value+=t.value),W(l,"input")}function en(){const t=h.input.portalglyphsInput,e=t.value;b.portalglyphs=e;x(e,t.dataset.destNoauto),Ht(e),P("galacticCoords").length&&x(Ae(e),"galacticCoords")}function Ie(t=void 0){var e,n;const o=(null==(e=null==t?void 0:t.dataset)?void 0:e.inputBind)??"",a=o?h.input[o]??document.getElementById(o):t?null==(r=null==(i=t.closest(".tableCell"))?void 0:i.nextElementSibling)?void 0:r.querySelector("input"):h.input.portalglyphsInput,l=null==(n=a.value)?void 0:n.split("");var i,r;l.pop();const s=l.join("");a.value=s,W(a,"input")}function wt(t){var e,n;const o=null==(n=null==(e=null==t?void 0:t.value)?void 0:e.toUpperCase)?void 0:n.call(e);null!=o&&(t.value=Ft(o))}function Ft(t){return t.split("").filter((t=>kt.includes(t))).join("").substring(0,12)}function xt(t,e=b.civShort,n=j){if(12!=t.length)return"";return n[e][t.substring(4)]}function Ht(t){const e=h.input.portalglyphsInput;let n="";12==(null==t?void 0:t.length)&&(n=xt(t)),Dt(n,e),x(n??"","region")}function Dt(t,e){D(e,null==t?'No valid Hub region. See <a href="https://nomanssky.fandom.com/wiki/Galactic_Hub_Regions" target="_blank" rel="noopener noreferrer">Galactic Hub Regions</a> for a list of valid regions.':"")}function Ae(t){if(12!=t.length)return"";const e=2049,n=parseInt(t.substring(9,12),16),o=parseInt(t.substring(4,6),16),a=parseInt(t.substring(6,9),16),l=t.substring(1,4);let i=0,r=0,s=0;i=n>=e?n-e:n+2047,s=a>=e?a-e:a+2047,r=o>=129?o-129:o+127;const u=[],c=[i,r,s];for(let t=0;t<3;t++)u[t]=c[t].toString(16).toUpperCase().padStart(4,"0");return u[3]=l.padStart(4,"0"),u.join(":")}const Ee=new DOMParser,Tt=Ee.parseFromString(Gt,"text/html"),R=Tt.getElementById("about");R.href==window.location.toString()&&(null==R||R.remove());const lt=Tt.body.innerHTML;var ut;null!=(ut=null==h?void 0:h.output)&&ut.footer?h.output.footer.innerHTML=lt:document.getElementById("footer").innerHTML=lt;const ct=document.getElementById("settingsPortalglyphButtons");ct&&Se(ct,"portalglyphsDefault");const Mt={input:{settings:"settings"}},Bt=document.querySelectorAll("footer dialog .data>*");function ke(){document.documentElement.dataset.transition="true","light"==localStorage.getItem("theme")?(localStorage.setItem("theme","dark"),document.documentElement.dataset.theme="dark"):(localStorage.setItem("theme","light"),document.documentElement.dataset.theme="light"),setTimeout((()=>{delete document.documentElement.dataset.transition}),400)}function we(){Lt();const t=h.input.settings;t.style.scale="0",t.showModal(),t.style.scale="1",t.scrollTo(0,0);const e=JSON.parse(localStorage.getItem("defaultSettings")??"{}");for(const n in e){const o=t.querySelector(`.data [data-store="${n}"]`);if(o)switch(o.value=e[n],o.id){case"civDefault":const t=new Event("change");o.dispatchEvent(t);break;case"portalglyphsDefault":W(o,"input")}}O(),delete b.restored}function Fe(){var t,e,n;if(b.restored)return localStorage.removeItem("defaultSettings"),void delete b.restored;const o={},a=Array.from(J);for(const l of a){const a=null==l?void 0:l.value,i=null==(t=null==l?void 0:l.dataset)?void 0:t.store,r=l;((null==(n=null==(e=null==r?void 0:r.options)?void 0:e[r.options.length-1])?void 0:n.value)==a||a)&&i&&(o[i]=L(a))}localStorage.setItem("defaultSettings",JSON.stringify(o))}function nn(){const t=JSON.parse(localStorage.getItem("defaultSettings")??"{}");for(const e in t){const n=e.split(" ").length>1?e.split(" ").map((t=>document.getElementById(t))).find((t=>t)):document.getElementById(e);if(n)switch(n.value=t[e],e){case"civInput":b.civShort=t[e],tt();break;case"portalglyphsInput":W(n,"input")}}}function Lt(){var t,e;const n=Array.from(J);for(const o of n)null!=o&&o.value&&("select"==o.tagName.toLowerCase()?o.value=null==(e=null==(t=o.options)?void 0:t[0])?void 0:e.value:o.value="");O(),b.restored=!0}function xe(t){const e=t.value,n=structuredClone(j);yt(n),Object.freeze(n);const o=xt(e,h.input.civDefault.value,n);Dt(o,t);h.input.settings.querySelector("form button.is-primary").disabled=null==o}J.push(...Array.from(Bt)),Bt.forEach((t=>{const e=t.id;Mt.input[e]=e;const n={element:e,func:function(){delete b.restored}};t.dataset.store&&$(n)})),Pt(Mt);const He=[{element:"civDefault",func:function(){tt(h.input.researchteamDefault,this.value)}},{element:"discoveredDefault",func:function(){O("discoveredDefault","discoveredlinkDefault")}},{element:"discoveredlinkDefault",func:function(){O("discoveredlinkDefault","discoveredDefault")}},{element:"portalglyphsDefault",func:function(){const t=this;wt(t),xe(t),document.getElementById("settingsPortalglyphsPreview").value=Ft(t.value)}},{element:"glyphDeleteDefault",handler:"click",func:function(){Ie(this)}},{element:"switchTheme",handler:"click",func:function(){ke()}},{element:"openSettingsBtn",handler:"click",func:function(){we()}},{element:"submitDefault",handler:"click",func:function(){Fe()}},{element:"resetDefault",handler:"click",func:function(){Lt()}}];ft(He),te(),ee();export{_ as $,ve as A,Ke as B,Pt as C,me as D,Ye as E,ge as F,B as G,Ne as H,Ae as I,tt as J,X as K,St as L,Ct as M,Q as N,Xe as O,de as P,re as Q,ne as R,wt as S,en as T,Ie as U,Zt as V,N as W,Te as X,Me as Y,Ge as Z,Le as _,qe as a,Pe as a0,De as a1,nn as a2,Re as a3,K as a4,It as a5,Ot as a6,je as a7,Se as a8,be as a9,$e as aa,Ue as ab,Je as ac,Ze as ad,Be as ae,Qt as af,he as ag,pe as ah,tn as ai,le as aj,ie as ak,$ as al,At as am,et as an,ft as b,q as c,Ve as d,We as e,Wt as f,h as g,st as h,D as i,W as j,Vt as k,ae as l,ue as m,vt as n,O as o,b as p,se as q,Oe as r,Qe as s,_e as t,ce as u,ze as v,x as w,L as x,Et as y,ye as z};
