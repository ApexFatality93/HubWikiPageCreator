import{a1 as xn,a2 as lt,a3 as ao,a4 as kt,a5 as In,a6 as We,a7 as lo,a8 as so,a9 as uo,aa as co,ab as fo,ac as po,ad as Cn,ae as ho,af as mo,ag as go,ah as An,ai as vo,F as st,aj as bo,x as Ke,n as yo,ak as Eo,al as wo,u as Zt,v as _o,am as So,an as W,ao as To,ap as Do,E as Rt,b as On,T as kn,aq as xo,t as Io,ar as Co,g as L,c as O,p as x,as as Ao,i as Oo,U as Jt,at as Pn,au as Nn,H as Le,av as ko,aw as Mn,ax as Ln,B as Ht,C as Fn,j as Bn,a as Gt,ay as $t,az as Ut,aA as Xt,aB as Ee,aC as Yt,aD as A,aE as M,aF as y,aG as Pt,aH as Ie,aI as le,aJ as ue,aK as Te,aL as Qt,aM as Ge,aN as en,aO as Po,aP as Rn,aQ as Hn,aR as No,aS as Mo,aT as Ze,aU as ae,aV as tn,aW as Lo,aX as Fo,aY as Bo,aZ as Ro,a_ as Ho,a$ as Go,b0 as nn,b1 as $o}from"./main-1fa97a76.js";const Uo="http://www.w3.org/2000/svg",be=typeof document<"u"?document:null,on=be&&be.createElement("template"),Xo={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const a=t?be.createElementNS(Uo,e):be.createElement(e,n?{is:n}:void 0);return"select"===e&&o&&null!=o.multiple&&a.setAttribute("multiple",o.multiple),a},createText:e=>be.createTextNode(e),createComment:e=>be.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>be.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,a,i){const r=n?n.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),a!==i&&(a=a.nextSibling););else{on.innerHTML=o?`<svg>${e}</svg>`:e;const a=on.content;if(o){const e=a.firstChild;for(;e.firstChild;)a.appendChild(e.firstChild);a.removeChild(e)}t.insertBefore(a,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Yo(e,t,n){const o=e._vtc;o&&(t=(t?[t,...o]:[...o]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function jo(e,t,n){const o=e.style,a=lt(n);if(n&&!a){if(t&&!lt(t))for(const e in t)null==n[e]&&Nt(o,e,"");for(const e in n)Nt(o,e,n[e])}else{const i=o.display;a?t!==n&&(o.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(o.display=i)}}const rn=/\s*!important$/;function Nt(e,t,n){if(We(n))n.forEach((n=>Nt(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Wo(e,t);rn.test(n)?e.setProperty(Cn(o),n.replace(rn,""),"important"):e[o]=n}}const an=["Webkit","Moz","ms"],bt={};function Wo(e,t){const n=bt[t];if(n)return n;let o=ho(t);if("filter"!==o&&o in e)return bt[t]=o;o=mo(o);for(let n=0;n<an.length;n++){const a=an[n]+o;if(a in e)return bt[t]=a}return t}const ln="http://www.w3.org/1999/xlink";function zo(e,t,n,o,a){if(o&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(ln,t.slice(6,t.length)):e.setAttributeNS(ln,t,n);else{const o=go(t);null==n||o&&!An(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function qo(e,t,n,o,a,i,r){if("innerHTML"===t||"textContent"===t)return o&&r(o,a,i),void(e[t]=n??"");const l=e.tagName;if("value"===t&&"PROGRESS"!==l&&!l.includes("-")){e._value=n;const o=n??"";return("OPTION"===l?e.getAttribute("value"):e.value)!==o&&(e.value=o),void(null==n&&e.removeAttribute(t))}let s=!1;if(""===n||null==n){const o=typeof e[t];"boolean"===o?n=An(n):null==n&&"string"===o?(n="",s=!0):"number"===o&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(t)}function ye(e,t,n,o){e.addEventListener(t,n,o)}function Vo(e,t,n,o){e.removeEventListener(t,n,o)}function Ko(e,t,n,o,a=null){const i=e._vei||(e._vei={}),r=i[t];if(o&&r)r.value=o;else{const[n,l]=Zo(t);if(o){ye(e,n,i[t]=ei(o,a),l)}else r&&(Vo(e,n,r,l),i[t]=void 0)}}const sn=/(?:Once|Passive|Capture)$/;function Zo(e){let t;if(sn.test(e)){let n;for(t={};n=e.match(sn);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[":"===e[2]?e.slice(3):Cn(e.slice(2)),t]}let yt=0;const Jo=Promise.resolve(),Qo=()=>yt||(Jo.then((()=>yt=0)),yt=Date.now());function ei(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();vo(ti(e,n.value),t,5,[e])};return n.value=e,n.attached=Qo(),n}function ti(e,t){if(We(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const un=/^on[a-z]/,ni=(e,t,n,o,a=!1,i,r,l,s)=>{"class"===t?Yo(e,o,a):"style"===t?jo(e,n,o):fo(t)?po(t)||Ko(e,t,n,o,r):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):oi(e,t,o,a))?qo(e,t,o,i,r,l,s):("true-value"===t?e._trueValue=o:"false-value"===t&&(e._falseValue=o),zo(e,t,o,a))};function oi(e,t,n,o){return o?!!("innerHTML"===t||"textContent"===t||t in e&&un.test(t)&&xn(n)):!("spellcheck"===t||"draggable"===t||"translate"===t||"form"===t||"list"===t&&"INPUT"===e.tagName||"type"===t&&"TEXTAREA"===e.tagName||un.test(t)&&lt(n))&&t in e}const ut=e=>{const t=e.props["onUpdate:modelValue"]||!1;return We(t)?e=>uo(t,e):t};function ii(e){e.target.composing=!0}function cn(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ri={created(e,{modifiers:{lazy:t,trim:n,number:o}},a){e._assign=ut(a);const i=o||a.props&&"number"===a.props.type;ye(e,t?"change":"input",(t=>{if(t.target.composing)return;let o=e.value;n&&(o=o.trim()),i&&(o=kt(o)),e._assign(o)})),n&&ye(e,"change",(()=>{e.value=e.value.trim()})),t||(ye(e,"compositionstart",ii),ye(e,"compositionend",cn),ye(e,"change",cn))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:o,number:a}},i){if(e._assign=ut(i),e.composing||document.activeElement===e&&"range"!==e.type&&(n||o&&e.value.trim()===t||(a||"number"===e.type)&&kt(e.value)===t))return;const r=t??"";e.value!==r&&(e.value=r)}},ai={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const a=In(t);ye(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?kt(ct(e)):ct(e)));e._assign(e.multiple?a?new Set(t):t:t[0])})),e._assign=ut(o)},mounted(e,{value:t}){dn(e,t)},beforeUpdate(e,t,n){e._assign=ut(n)},updated(e,{value:t}){dn(e,t)}};function dn(e,t){const n=e.multiple;if(!n||We(t)||In(t)){for(let o=0,a=e.options.length;o<a;o++){const a=e.options[o],i=ct(a);if(n)We(t)?a.selected=lo(t,i)>-1:a.selected=t.has(i);else if(so(ct(a),t))return void(e.selectedIndex!==o&&(e.selectedIndex=o))}!n&&-1!==e.selectedIndex&&(e.selectedIndex=-1)}}function ct(e){return"_value"in e?e._value:e.value}const li=["ctrl","shift","alt","meta"],si={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>li.some((n=>e[`${n}Key`]&&!t.includes(n)))},fn=(e,t)=>(n,...o)=>{for(let e=0;e<t.length;e++){const o=si[t[e]];if(o&&o(n,t))return}return e(n,...o)},De={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Fe(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),Fe(e,!0),o.enter(e)):o.leave(e,(()=>{Fe(e,!1)})):Fe(e,t))},beforeUnmount(e,{value:t}){Fe(e,t)}};function Fe(e,t){e.style.display=t?e._vod:"none"}const ui=co({patchProp:ni},Xo);let pn;function ci(){return pn||(pn=ao(ui))}const di=(...e)=>{const t=ci().createApp(...e),{mount:n}=t;return t.mount=e=>{const o=fi(e);if(!o)return;const a=t._component;!xn(a)&&!a.render&&!a.template&&(a.template=o.innerHTML),o.innerHTML="";const i=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function fi(e){return lt(e)?document.querySelector(e):e}const pi=[{element:"nameInput",func:function(){st()}},{element:"researchTeam",func:function(){bo(),Ke()}},{element:"fileUpload",handler:"change",func:function(){yo(this)}},{element:"portalglyphsInput",func:function(){Eo(this),wo(),st()}},{element:"discoveredInput",func:function(){Zt("discoveredInput","discoveredlinkInput"),Ke()}},{element:"discoveredlinkInput",func:function(){Zt("discoveredlinkInput","discoveredInput"),Ke()}},{element:"docbyInput",func:function(){Ke()}},{element:"axesInput",handler:"change",func:function(){_o()}},{element:"glyphDeleteButton",handler:"click",func:function(){So()}},{element:"fileUploadTooltip",handler:"click",func:function(){W.uploadShown=!0}},{element:"galleryFileUploadTooltip",handler:"click",func:function(){W.galleryUploadShown=!0}}];To(),Do(),Rt(Co),On(pi),kn();const hi={output:{explanationHeading:"explanationHeading",explanationContent:"explanationContent",explanationLink:"explanationLink",explanationWebpImg:"explanationWebpImg",explanationFallbackImg:"explanationFallbackImg"}},hn=L.output.explanation;hn&&(hn.innerHTML=xo),Rt(hi);const mi=["builderInput","builderlinkInput","ownerInput","ownerlinkInput","discoveredInput","discoveredlinkInput"];for(const e of mi){const t=L.input[e];t&&(t.dataset.player="")}function gi(){var e,t;const n=document.querySelectorAll(".table .data input, .table .data textarea"),o=document.querySelectorAll(".table .data select"),a=document.getElementsByTagName("output");for(const e of Array.from(n))switch(e.type.toLowerCase()){case"checkbox":e.checked=!1;break;case"radio":const t=document.querySelectorAll('input[type="radio"]:not([checked])'),n=document.querySelectorAll('input[type="radio"][checked]');for(const e of Array.from(t))e.checked=!1;for(const e of Array.from(n))e.checked=!0;break;default:e.value=""}for(const n of Array.from(o))n.value=null==(t=null==(e=n.options)?void 0:e[0])?void 0:t.value;for(const e of Array.from(a))e.innerText="";Ao();for(const e in x)delete x[e];const i=document.querySelectorAll(".error");for(const e of Array.from(i))Oo(e.previousElementSibling);for(const e in Jt)delete Jt[e];"function"==typeof O.resetExternal&&O.resetExternal(),Pn(),Nn()}function jt(e,t){var n,o,a,i;e.style.pointerEvents="none";const{innerText:r,dataset:{link:l}}=e;Le.text=ko(JSON.stringify(x)),Le.copy=!0,Le.link=l;const s=Mn(e);if(s)return e.classList.remove("is-primary"),e.classList.add("is-danger"),e.innerText=s,void setTimeout((()=>{e.classList.remove("is-danger"),e.classList.add("is-primary"),e.innerText=r,e.style.pointerEvents=""}),1500);const c=(null==(i=null==(a=null==(o=null==(n=L)?void 0:n.output)?void 0:o[t])?void 0:a.innerText)?void 0:i.replaceAll("\n\n\n","\n\n"))??t;navigator.clipboard.writeText(c),Le.copy=!0,Le.link=l,e.innerText="Copied!",setTimeout((()=>{e.innerText=r,e.style.pointerEvents=""}),1500)}function vi(e){const t=L.output.fullArticle.innerText.replaceAll("\n\n\n","\n\n"),n=x.name,o=e;o.href="data:text/plain,"+encodeURIComponent(t),o.download=n+".txt"}function Gn(e,t=x.name){e.style.pointerEvents="none";$n(e,Ln+"Special:EditPage/"+t)}function $n(e,t){const n=Mn(e),o=new RegExp(`[${["#","<",">","[","]","{","|","}"].join("")}]`,"g");if(n){const t=e.innerText;e.removeAttribute("href"),e.className="button is-danger",e.innerText=n,setTimeout((()=>{e.className="button is-outlined is-primary",e.innerText=t,e.style.pointerEvents=""}),1500)}else e.href=t.replace(o," "),e.target="_blank",e.rel="noopener noreferrer",e.style.pointerEvents=""}function Qr(){var e;if("function"!=typeof O.redirectPage)return;const t=document.getElementById("reset"),n=["copyRedirect","createRedirect"],o=document.createElement("p");if(o.id="redirectNote",o.classList.add("has-text-centered"),o.innerText="Please create a redirect for your page!",!O.redirectPage())return n.forEach((()=>{const e=t.previousElementSibling;n.includes(e.id)&&e.remove()})),void(null==(e=document.getElementById(o.id))||e.remove());const a=document.createElement("button");a.innerText="Copy Redirect Code",a.type="button";const i=document.createElement("a");i.rel="noopener noreferrer",i.target="_blank",i.innerText="Create Redirect",On([{element:a,handler:"click",func:function(){jt(this,`#REDIRECT [[${x.name}]]`)}},{element:i,handler:"click",func:function(){Gn(this,O.redirectPage())}}]);const r=[a,i];for(let e=0;e<r.length;e++){const o=r[e],a=n[e];if(document.getElementById(a))return;o.classList.add("button","is-outlined","is-primary"),o.id=a,o.dataset.link="redirect",t.insertAdjacentElement("beforebegin",o)}t.parentElement.insertAdjacentElement("beforebegin",o)}Io();const bi='\n<button class="button is-outlined is-primary" id="copy" type="button" data-link="page" data-evt-id="copyButton">Copy Wikicode</button>\n<a class="button is-outlined is-primary" id="download" data-evt-id="downloadButton">Download File</a>\n<a class="button is-outlined is-primary" href="https://nomanssky.fandom.com/wiki/Special:Upload?multiple=true" id="uploadLink" rel="noopener noreferrer" target="_blank">Upload Pictures</a>\n<a class="button is-outlined is-primary" id="create" data-link="page" data-evt-id="createPageButton">Create Page</a>\n<button class="button is-warning" id="reset" type="reset" data-evt-id="resetButton">Reset Inputs</button>',yi=[{element:"copyButton",handler:"click",func:function(){jt(this,"fullArticle")}},{element:"downloadButton",handler:"click",func:function(){vi(this)}},{element:"createPageButton",handler:"click",func:function(){Gn(this)}},{element:"resetButton",handler:"click",func:()=>gi()}],Ei=Ht(bi,{},yi),wi='<p class="has-text-centered">You must copy the code first, then paste it into the wiki page.<br>Also don\'t forget to upload any images you have put here.</p>',Wt=L.output.actions;Wt.innerHTML="",Fn(Ei,Wt,"afterbegin"),Wt.insertAdjacentHTML("beforebegin",wi);const _i='\n<label style="display:flex; gap: .3rem"><input class="checkbox" type="checkbox" id="skipCheck" data-evt-id="skipCheck">Enable debug (no checks, no popups)</label>;\n<button style="margin: 0 1rem" class="button is-danger is-small" id="clearCache" data-evt-id="clearCache">Clear Localstorage</button>',Si=[{element:"clearCache",handler:"click",func:()=>localStorage.clear()},{element:"skipCheck",handler:"change",func:function(){const e=this.checked;W.debug=e,W.uploadShown=e,W.galleryUploadShown=e,document.documentElement.dataset.debug=e.toString(),st()}}];L.output.actions,Ht(_i,{},Si),Object.defineProperty(W,"debug",{configurable:!1,writable:!1,value:!1});const Et=document.getElementById("skipCheck");Et&&new URLSearchParams(window.location.search).has("debug")&&(Et.checked=!0,Bn(Et,"change"));const Ti='<h2 class="title is-5 has-text-left has-text-weight-bold mb-2">Eisvana \x3c!-- //NOSONAR\n\t(this is fine since this snippet is inserted somewhere else)--\x3e\n\t<output id="album" name="type"></output> <output id="albumType"></output> entry for <output id="albumHeaderName"\n\t\tname="name"></output>:\n</h2>\n<div id="albumText" class="wikiText">\n\t| {{album| file=<output name="image" id="albumImage"></output> | name=[[<output id="albumName"></output>]]\n\t| other=<output id="albumOther"></output> | glyph=<output id="albumGlyphs" name="portalglyphs"></output> |\n\t<output id="albumDiscoverer"></output>}} <output id="albumDesc"></output>\n</div>',Di='<button id="albumBtn" class="button is-outlined is-primary"\n\t   data-link="album" data-evt-id="copyButton">\n\t   Copy Album Wikicode\n\t   </button>\n\t   <a class="button is-outlined is-primary" id="albumLink"\n\t   data-link="album" data-evt-id="openAlbumButton">\n\t   Open Album\n\t   </a>',xi=[{element:"copyButton",handler:"click",func:function(){jt(this,"albumText")}},{element:"openAlbumButton",handler:"click",func:function(){Ci(this)}}],Ii=Ht(Di,{},xi);function Ci(e){e.style.pointerEvents="none";const t="function"==typeof O.albumLinkGen?O.albumLinkGen():x.catalogue?x.catalogue:(console.warn("No wiki page provided. Define the function `albumLinkGen()` and add it to the `globalFunctions` object or define a catalogue in the `pageData.catalogue` property!"),void(e.style.pointerEvents=""));t&&$n(e,Ln+t)}function Ai(){const e="function"==typeof O.albumItemTypeExternal?O.albumItemTypeExternal():x.type;L.output.album.innerText=e}function Oi(){const e="function"==typeof O.albumDescExternal?O.albumDescExternal():"",t=L.output.albumDesc;t&&(t.innerText=e)}function ki(){const e=(()=>{if("function"==typeof O.albumDiscovererExternal)return O.albumDiscovererExternal();{const{discovered:e,discoveredlink:t}=x;return t?`wiki=${t}`:`discoverer=${e}`}})(),t=L.output.albumDiscoverer;t&&(t.innerText=e)}function Pi(){const e="function"==typeof O.albumNameExternal?O.albumNameExternal():x.name;L.output.albumName.innerText=e}function Ni(){const e="function"==typeof O.albumOtherExternal?O.albumOtherExternal():"",t=L.output.albumOther;t&&(t.innerText=e)}function Mi(){const e="function"==typeof O.albumTypeExternal?O.albumTypeExternal():"";L.output.albumType.innerText=e}function Li(){const e={albumHeaderName:"name",albumImage:"image",albumGlyphs:"portalglyphs"};for(const t in e){L.output[t].innerText=x[e[t]]}}function ea(){function e(){Li(),ki(),Pi(),Ni(),Mi(),Ai(),Oi()}x.albumInitialised?e():document.addEventListener("albumLoaded",(()=>e()))}const Fi={output:{album:"album",albumType:"albumType",albumHeaderName:"albumHeaderName",albumImage:"albumImage",albumName:"albumName",albumOther:"albumOther",albumGlyphs:"albumGlyphs",albumDiscoverer:"albumDiscoverer",albumText:"albumText",albumDesc:"albumDesc"}},mn=L.output.albumEntry,wt=L.output.albumActions;if(mn instanceof HTMLDivElement&&(mn.innerHTML=Ti),wt instanceof HTMLDivElement){Fn(Ii,wt,"afterbegin"),Rt(Fi),document.dispatchEvent(new Event("albumLoaded")),Gt("albumInitialised",!0);const e='<p style="width:100%" class="has-text-centered mb-3">Please don\'t forget to create an album entry!</p>';wt.insertAdjacentHTML("afterbegin",e)}
/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){Bi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(){return te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},te.apply(this,arguments)}function Ri(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&(a[n]=e[n]);return a}function Hi(e,t){if(null==e)return{};var n,o,a=Ri(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Gi="1.15.0";function ee(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var ne=ee(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ze=ee(/Edge/i),vn=ee(/firefox/i),$e=ee(/safari/i)&&!ee(/chrome/i)&&!ee(/android/i),Un=ee(/iP(ad|od|hone)/i),Xn=ee(/chrome/i)&&ee(/android/i),Yn={capture:!1,passive:!1};function _(e,t,n){e.addEventListener(t,n,!ne&&Yn)}function w(e,t,n){e.removeEventListener(t,n,!ne&&Yn)}function dt(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function $i(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function K(e,t,n,o){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&dt(e,t):dt(e,t))||o&&e===n)return e;if(e===n)break}while(e=$i(e))}return null}var Ue,bn=/\s+/g;function X(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(bn," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(bn," ")}}function g(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];!(t in o)&&-1===t.indexOf("webkit")&&(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function Ce(e,t){var n="";if("string"==typeof e)n=e;else do{var o=g(e,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function jn(e,t,n){if(e){var o=e.getElementsByTagName(t),a=0,i=o.length;if(n)for(;a<i;a++)n(o[a],a);return o}return[]}function Z(){return document.scrollingElement||document.documentElement}function N(e,t,n,o,a){if(e.getBoundingClientRect||e===window){var i,r,l,s,c,u,d;if(e!==window&&e.parentNode&&e!==Z()?(r=(i=e.getBoundingClientRect()).top,l=i.left,s=i.bottom,c=i.right,u=i.height,d=i.width):(r=0,l=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(a=a||e.parentNode,!ne))do{if(a&&a.getBoundingClientRect&&("none"!==g(a,"transform")||n&&"static"!==g(a,"position"))){var f=a.getBoundingClientRect();r-=f.top+parseInt(g(a,"border-top-width")),l-=f.left+parseInt(g(a,"border-left-width")),s=r+i.height,c=l+i.width;break}}while(a=a.parentNode);if(o&&e!==window){var p=Ce(a||e),h=p&&p.a,m=p&&p.d;p&&(s=(r/=m)+(u/=m),c=(l/=h)+(d/=h))}return{top:r,left:l,bottom:s,right:c,width:d,height:u}}}function yn(e,t,n){for(var o=de(e,!0),a=N(e)[t];o;){var i=N(o)[n];if(!("top"===n||"left"===n?a>=i:a<=i))return o;if(o===Z())break;o=de(o,!1)}return!1}function Ae(e,t,n,o){for(var a=0,i=0,r=e.children;i<r.length;){if("none"!==r[i].style.display&&r[i]!==v.ghost&&(o||r[i]!==v.dragged)&&K(r[i],n.draggable,e,!1)){if(a===t)return r[i];a++}i++}return null}function zt(e,t){for(var n=e.lastElementChild;n&&(n===v.ghost||"none"===g(n,"display")||t&&!dt(n,t));)n=n.previousElementSibling;return n||null}function z(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"!==e.nodeName.toUpperCase()&&e!==v.clone&&(!t||dt(e,t))&&n++;return n}function En(e){var t=0,n=0,o=Z();if(e)do{var a=Ce(e),i=a.a,r=a.d;t+=e.scrollLeft*i,n+=e.scrollTop*r}while(e!==o&&(e=e.parentNode));return[t,n]}function Ui(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n);return-1}function de(e,t){if(!e||!e.getBoundingClientRect)return Z();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=g(n);if(n.clientWidth<n.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!n.getBoundingClientRect||n===document.body)return Z();if(o||t)return n;o=!0}}}while(n=n.parentNode);return Z()}function Xi(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function _t(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Wn(e,t){return function(){if(!Ue){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),Ue=setTimeout((function(){Ue=void 0}),t)}}}function Yi(){clearTimeout(Ue),Ue=void 0}function zn(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function qn(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var j="Sortable"+(new Date).getTime();function ji(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==g(e,"display")&&e!==v.ghost){t.push({target:e,rect:N(e)});var n=J({},t[t.length-1].rect);if(e.thisAnimationDuration){var o=Ce(e,!0);o&&(n.top-=o.f,n.left-=o.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(Ui(t,{target:e}),1)},animateAll:function(n){var o=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var a=!1,i=0;t.forEach((function(e){var t=0,n=e.target,r=n.fromRect,l=N(n),s=n.prevFromRect,c=n.prevToRect,u=e.rect,d=Ce(n,!0);d&&(l.top-=d.f,l.left-=d.e),n.toRect=l,n.thisAnimationDuration&&_t(s,l)&&!_t(r,l)&&(u.top-l.top)/(u.left-l.left)==(r.top-l.top)/(r.left-l.left)&&(t=zi(u,s,c,o.options)),_t(l,r)||(n.prevFromRect=r,n.prevToRect=l,t||(t=o.options.animation),o.animate(n,u,l,t)),t&&(a=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),a?e=setTimeout((function(){"function"==typeof n&&n()}),i):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,o){if(o){g(e,"transition",""),g(e,"transform","");var a=Ce(this.el),i=a&&a.a,r=a&&a.d,l=(t.left-n.left)/(i||1),s=(t.top-n.top)/(r||1);e.animatingX=!!l,e.animatingY=!!s,g(e,"transform","translate3d("+l+"px,"+s+"px,0)"),this.forRepaintDummy=Wi(e),g(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),g(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){g(e,"transition",""),g(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}}function Wi(e){return e.offsetWidth}function zi(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var we=[],St={initializeByDefault:!0},qe={mount:function(e){for(var t in St)St.hasOwnProperty(t)&&!(t in e)&&(e[t]=St[t]);we.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),we.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var a=e+"Global";we.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][a]&&t[o.pluginName][a](J({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](J({sortable:t},n)))}))},initializePlugins:function(e,t,n,o){for(var a in we.forEach((function(o){var a=o.pluginName;if(e.options[a]||o.initializeByDefault){var i=new o(e,t,e.options);i.sortable=e,i.options=e.options,e[a]=i,te(n,i.defaults)}})),e.options)if(e.options.hasOwnProperty(a)){var i=this.modifyOption(e,a,e.options[a]);typeof i<"u"&&(e.options[a]=i)}},getEventProperties:function(e,t){var n={};return we.forEach((function(o){"function"==typeof o.eventProperties&&te(n,o.eventProperties.call(t[o.pluginName],e))})),n},modifyOption:function(e,t,n){var o;return we.forEach((function(a){e[a.pluginName]&&a.optionListeners&&"function"==typeof a.optionListeners[t]&&(o=a.optionListeners[t].call(e[a.pluginName],n))})),o}};function qi(e){var t=e.sortable,n=e.rootEl,o=e.name,a=e.targetEl,i=e.cloneEl,r=e.toEl,l=e.fromEl,s=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,f=e.originalEvent,p=e.putSortable,h=e.extraEventProperties;if(t=t||n&&n[j]){var m,g=t.options,v="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||ne||ze?(m=document.createEvent("Event")).initEvent(o,!0,!0):m=new CustomEvent(o,{bubbles:!0,cancelable:!0}),m.to=r||n,m.from=l||n,m.item=a||n,m.clone=i,m.oldIndex=s,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=f,m.pullMode=p?p.lastPutMode:void 0;var b=J(J({},h),qe.getEventProperties(o,t));for(var y in b)m[y]=b[y];n&&n.dispatchEvent(m),g[v]&&g[v].call(t,m)}}var Vi=["evt"],G=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,a=Hi(n,Vi);qe.pluginEvent.bind(v)(e,t,J({dragEl:f,parentEl:C,ghostEl:b,rootEl:D,nextEl:ve,lastDownEl:ot,cloneEl:I,cloneHidden:ce,dragStarted:Be,putSortable:F,activeSortable:v.active,originalEvent:o,oldIndex:xe,oldDraggableIndex:Xe,newIndex:Y,newDraggableIndex:se,hideGhostForTarget:Jn,unhideGhostForTarget:Qn,cloneNowHidden:function(){ce=!0},cloneNowShown:function(){ce=!1},dispatchSortableEvent:function(e){H({sortable:t,name:e,originalEvent:o})}},a))};function H(e){qi(J({putSortable:F,cloneEl:I,targetEl:f,rootEl:D,oldIndex:xe,oldDraggableIndex:Xe,newIndex:Y,newDraggableIndex:se},e))}var f,C,b,D,ve,ot,I,ce,xe,Y,Xe,se,Je,F,me,q,Tt,Dt,wn,_n,Be,_e,Ye,it,B,Se=!1,ft=!1,pt=[],je=!1,Qe=!1,xt=[],Mt=!1,ht=[],gt=typeof document<"u",et=Un,Sn=ze||ne?"cssFloat":"float",Ki=gt&&!Xn&&!Un&&"draggable"in document.createElement("div"),Vn=function(){if(gt){if(ne)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Kn=function(e,t){var n=g(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=Ae(e,0,t),i=Ae(e,1,t),r=a&&g(a),l=i&&g(i),s=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+N(a).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+N(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&r.float&&"none"!==r.float){var u="left"===r.float?"left":"right";return!i||"both"!==l.clear&&l.clear!==u?"horizontal":"vertical"}return a&&("block"===r.display||"flex"===r.display||"table"===r.display||"grid"===r.display||s>=o&&"none"===n[Sn]||i&&"none"===n[Sn]&&s+c>o)?"vertical":"horizontal"},Zi=function(e,t,n){var o=n?e.left:e.top,a=n?e.right:e.bottom,i=n?e.width:e.height,r=n?t.left:t.top,l=n?t.right:t.bottom,s=n?t.width:t.height;return o===r||a===l||o+i/2===r+s/2},Ji=function(e,t){var n;return pt.some((function(o){var a=o[j].options.emptyInsertThreshold;if(a&&!zt(o)){var i=N(o),r=e>=i.left-a&&e<=i.right+a,l=t>=i.top-a&&t<=i.bottom+a;if(r&&l)return n=o}})),n},Zn=function(e){function t(e,n){return function(o,a,i,r){var l=o.options.group.name&&a.options.group.name&&o.options.group.name===a.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(o,a,i,r),n)(o,a,i,r);var s=(n?o:a).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},o=e.group;(!o||"object"!=nt(o))&&(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},Jn=function(){!Vn&&b&&g(b,"display","none")},Qn=function(){!Vn&&b&&g(b,"display","")};gt&&!Xn&&document.addEventListener("click",(function(e){if(ft)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ft=!1,!1}),!0);var ge=function(e){if(f){e=e.touches?e.touches[0]:e;var t=Ji(e.clientX,e.clientY);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[j]._onDragOver(n)}}},Qi=function(e){f&&f.parentNode[j]._isOutsideThisEl(e.target)};function v(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=te({},t),e[j]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Kn(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==v.supportPointer&&"PointerEvent"in window&&!$e,emptyInsertThreshold:5};for(var o in qe.initializePlugins(this,e,n),n)!(o in t)&&(t[o]=n[o]);for(var a in Zn(t),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!t.forceFallback&&Ki,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?_(e,"pointerdown",this._onTapStart):(_(e,"mousedown",this._onTapStart),_(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(_(e,"dragover",this),_(e,"dragenter",this)),pt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),te(this,ji())}function er(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function tt(e,t,n,o,a,i,r,l){var s,c,u=e[j],d=u.options.onMove;return!window.CustomEvent||ne||ze?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=a||t,s.relatedRect=i||N(t),s.willInsertAfter=l,s.originalEvent=r,e.dispatchEvent(s),d&&(c=d.call(u,s,r)),c}function It(e){e.draggable=!1}function tr(){Mt=!1}function nr(e,t,n){var o=N(Ae(n.el,0,n.options,!0));return t?e.clientX<o.left-10||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-10||e.clientY<o.bottom&&e.clientX<o.left}function or(e,t,n){var o=N(zt(n.el,n.options.draggable));return t?e.clientX>o.right+10||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+10}function ir(e,t,n,o,a,i,r,l){var s=o?e.clientY:e.clientX,c=o?n.height:n.width,u=o?n.top:n.left,d=o?n.bottom:n.right,f=!1;if(!r)if(l&&it<c*a){if(!je&&(1===Ye?s>u+c*i/2:s<d-c*i/2)&&(je=!0),je)f=!0;else if(1===Ye?s<u+it:s>d-it)return-Ye}else if(s>u+c*(1-a)/2&&s<d-c*(1-a)/2)return rr(t);return(f=f||r)&&(s<u+c*i/2||s>d-c*i/2)?s>u+c/2?1:-1:0}function rr(e){return z(f)<z(e)?1:-1}function ar(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function lr(e){ht.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&ht.push(o)}}function rt(e){return setTimeout(e,0)}function Lt(e){return clearTimeout(e)}v.prototype={constructor:v,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(_e=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,f):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,a=o.preventOnFilter,i=e.type,r=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(r||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=o.filter;if(lr(n),!f&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||o.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!$e||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=K(l,o.draggable,n,!1))&&l.animated||ot===l)){if(xe=z(l),Xe=z(l,o.draggable),"function"==typeof c){if(c.call(this,e,l,this))return H({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),G("filter",t,{evt:e}),void(a&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=K(s,o.trim(),n,!1))return H({sortable:t,rootEl:o,name:"filter",targetEl:l,fromEl:n,toEl:n}),G("filter",t,{evt:e}),!0}))))return void(a&&e.cancelable&&e.preventDefault());o.handle&&!K(s,o.handle,n,!1)||this._prepareDragStart(e,r,l)}}},_prepareDragStart:function(e,t,n){var o,a=this,i=a.el,r=a.options,l=i.ownerDocument;if(n&&!f&&n.parentNode===i){var s=N(n);if(D=i,C=(f=n).parentNode,ve=f.nextSibling,ot=n,Je=r.group,v.dragged=f,me={target:f,clientX:(t||e).clientX,clientY:(t||e).clientY},wn=me.clientX-s.left,_n=me.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,f.style["will-change"]="all",o=function(){G("delayEnded",a,{evt:e}),v.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!vn&&a.nativeDraggable&&(f.draggable=!0),a._triggerDragStart(e,t),H({sortable:a,name:"choose",originalEvent:e}),X(f,r.chosenClass,!0))},r.ignore.split(",").forEach((function(e){jn(f,e.trim(),It)})),_(l,"dragover",ge),_(l,"mousemove",ge),_(l,"touchmove",ge),_(l,"mouseup",a._onDrop),_(l,"touchend",a._onDrop),_(l,"touchcancel",a._onDrop),vn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,f.draggable=!0),G("delayStart",this,{evt:e}),!r.delay||r.delayOnTouchOnly&&!t||this.nativeDraggable&&(ze||ne))o();else{if(v.eventCanceled)return void this._onDrop();_(l,"mouseup",a._disableDelayedDrag),_(l,"touchend",a._disableDelayedDrag),_(l,"touchcancel",a._disableDelayedDrag),_(l,"mousemove",a._delayedDragTouchMoveHandler),_(l,"touchmove",a._delayedDragTouchMoveHandler),r.supportPointer&&_(l,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(o,r.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){f&&It(f),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;w(e,"mouseup",this._disableDelayedDrag),w(e,"touchend",this._disableDelayedDrag),w(e,"touchcancel",this._disableDelayedDrag),w(e,"mousemove",this._delayedDragTouchMoveHandler),w(e,"touchmove",this._delayedDragTouchMoveHandler),w(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?_(document,"pointermove",this._onTouchMove):_(document,t?"touchmove":"mousemove",this._onTouchMove):(_(f,"dragend",this),_(D,"dragstart",this._onDragStart));try{document.selection?rt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Se=!1,D&&f){G("dragStarted",this,{evt:t}),this.nativeDraggable&&_(document,"dragover",Qi);var n=this.options;!e&&X(f,n.dragClass,!1),X(f,n.ghostClass,!0),v.active=this,e&&this._appendGhost(),H({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(q){this._lastX=q.clientX,this._lastY=q.clientY,Jn();for(var e=document.elementFromPoint(q.clientX,q.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(q.clientX,q.clientY))!==t;)t=e;if(f.parentNode[j]._isOutsideThisEl(e),t)do{if(t[j]){if(t[j]._onDragOver({clientX:q.clientX,clientY:q.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Qn()}},_onTouchMove:function(e){if(me){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,a=e.touches?e.touches[0]:e,i=b&&Ce(b,!0),r=b&&i&&i.a,l=b&&i&&i.d,s=et&&B&&En(B),c=(a.clientX-me.clientX+o.x)/(r||1)+(s?s[0]-xt[0]:0)/(r||1),u=(a.clientY-me.clientY+o.y)/(l||1)+(s?s[1]-xt[1]:0)/(l||1);if(!v.active&&!Se){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(b){i?(i.e+=c-(Tt||0),i.f+=u-(Dt||0)):i={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");g(b,"webkitTransform",d),g(b,"mozTransform",d),g(b,"msTransform",d),g(b,"transform",d),Tt=c,Dt=u,q=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!b){var e=this.options.fallbackOnBody?document.body:D,t=N(f,!0,et,!0,e),n=this.options;if(et){for(B=e;"static"===g(B,"position")&&"none"===g(B,"transform")&&B!==document;)B=B.parentNode;B!==document.body&&B!==document.documentElement?(B===document&&(B=Z()),t.top+=B.scrollTop,t.left+=B.scrollLeft):B=Z(),xt=En(B)}X(b=f.cloneNode(!0),n.ghostClass,!1),X(b,n.fallbackClass,!0),X(b,n.dragClass,!0),g(b,"transition",""),g(b,"transform",""),g(b,"box-sizing","border-box"),g(b,"margin",0),g(b,"top",t.top),g(b,"left",t.left),g(b,"width",t.width),g(b,"height",t.height),g(b,"opacity","0.8"),g(b,"position",et?"absolute":"fixed"),g(b,"zIndex","100000"),g(b,"pointerEvents","none"),v.ghost=b,e.appendChild(b),g(b,"transform-origin",wn/parseInt(b.style.width)*100+"% "+_n/parseInt(b.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,a=n.options;G("dragStart",this,{evt:e}),v.eventCanceled?this._onDrop():(G("setupClone",this),v.eventCanceled||((I=qn(f)).removeAttribute("id"),I.draggable=!1,I.style["will-change"]="",this._hideClone(),X(I,this.options.chosenClass,!1),v.clone=I),n.cloneId=rt((function(){G("clone",n),!v.eventCanceled&&(n.options.removeCloneOnHide||D.insertBefore(I,f),n._hideClone(),H({sortable:n,name:"clone"}))})),!t&&X(f,a.dragClass,!0),t?(ft=!0,n._loopId=setInterval(n._emulateDragOver,50)):(w(document,"mouseup",n._onDrop),w(document,"touchend",n._onDrop),w(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",a.setData&&a.setData.call(n,o,f)),_(document,"drop",n),g(f,"transform","translateZ(0)")),Se=!0,n._dragStartId=rt(n._dragStarted.bind(n,t,e)),_(document,"selectstart",n),Be=!0,$e&&g(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,a,i=this.el,r=e.target,l=this.options,s=l.group,c=v.active,u=Je===s,d=l.sort,p=F||c,h=this,m=!1;if(!Mt){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),r=K(r,l.draggable,i,!0),B("dragOver"),v.eventCanceled)return m;if(f.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||h._ignoreWhileAnimating===r)return W(!1);if(ft=!1,c&&!l.disabled&&(u?d||(o=C!==D):F===this||(this.lastPutMode=Je.checkPull(this,c,f,e))&&s.checkPut(this,c,f,e))){if(a="vertical"===this._getDirection(e,r),t=N(f),B("dragOverValid"),v.eventCanceled)return m;if(o)return C=D,R(),this._hideClone(),B("revert"),v.eventCanceled||(ve?D.insertBefore(f,ve):D.appendChild(f)),W(!0);var y=zt(i,l.draggable);if(!y||or(e,a,this)&&!y.animated){if(y===f)return W(!1);if(y&&i===e.target&&(r=y),r&&(n=N(r)),!1!==tt(D,i,f,t,r,n,e,!!r))return R(),y&&y.nextSibling?i.insertBefore(f,y.nextSibling):i.appendChild(f),C=i,U(),W(!0)}else if(y&&nr(e,a,this)){var w=Ae(i,0,l,!0);if(w===f)return W(!1);if(n=N(r=w),!1!==tt(D,i,f,t,r,n,e,!1))return R(),i.insertBefore(f,w),C=i,U(),W(!0)}else if(r.parentNode===i){n=N(r);var E,x,_,T=f.parentNode!==i,S=!Zi(f.animated&&f.toRect||t,r.animated&&r.toRect||n,a),k=a?"top":"left",I=yn(r,"top","top")||yn(f,"top","top"),A=I?I.scrollTop:void 0;if(_e!==r&&(x=n[k],je=!1,Qe=!S&&l.invertSwap||T),0!==(E=ir(e,r,n,a,S?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Qe,_e===r))){var O=z(f);do{O-=E,_=C.children[O]}while(_&&("none"===g(_,"display")||_===b))}if(0===E||_===r)return W(!1);_e=r,Ye=E;var M=r.nextElementSibling,L=!1,P=tt(D,i,f,t,r,n,e,L=1===E);if(!1!==P)return(1===P||-1===P)&&(L=1===P),Mt=!0,setTimeout(tr,30),R(),L&&!M?i.appendChild(f):r.parentNode.insertBefore(f,L?M:r),I&&zn(I,0,A-I.scrollTop),C=f.parentNode,void 0!==x&&!Qe&&(it=Math.abs(x-N(r)[k])),U(),W(!0)}if(i.contains(f))return W(!1)}return!1}function B(l,s){G(l,h,J({evt:e,isOwner:u,axis:a?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:d,fromSortable:p,target:r,completed:W,onMove:function(n,o){return tt(D,i,f,t,n,N(n),e,o)},changed:U},s))}function R(){B("dragOverAnimationCapture"),h.captureAnimationState(),h!==p&&p.captureAnimationState()}function W(t){return B("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(h),h!==p&&(X(f,F?F.options.ghostClass:c.options.ghostClass,!1),X(f,l.ghostClass,!0)),F!==h&&h!==v.active?F=h:h===v.active&&F&&(F=null),p===h&&(h._ignoreWhileAnimating=r),h.animateAll((function(){B("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(r===f&&!f.animated||r===i&&!r.animated)&&(_e=null),!l.dragoverBubble&&!e.rootEl&&r!==document&&(f.parentNode[j]._isOutsideThisEl(e.target),!t&&ge(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function U(){Y=z(f),se=z(f,l.draggable),H({sortable:h,name:"change",toEl:i,newIndex:Y,newDraggableIndex:se,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){w(document,"mousemove",this._onTouchMove),w(document,"touchmove",this._onTouchMove),w(document,"pointermove",this._onTouchMove),w(document,"dragover",ge),w(document,"mousemove",ge),w(document,"touchmove",ge)},_offUpEvents:function(){var e=this.el.ownerDocument;w(e,"mouseup",this._onDrop),w(e,"touchend",this._onDrop),w(e,"pointerup",this._onDrop),w(e,"touchcancel",this._onDrop),w(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;Y=z(f),se=z(f,n.draggable),G("drop",this,{evt:e}),C=f&&f.parentNode,Y=z(f),se=z(f,n.draggable),v.eventCanceled||(Se=!1,Qe=!1,je=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Lt(this.cloneId),Lt(this._dragStartId),this.nativeDraggable&&(w(document,"drop",this),w(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),$e&&g(document.body,"user-select",""),g(f,"transform",""),e&&(Be&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),b&&b.parentNode&&b.parentNode.removeChild(b),(D===C||F&&"clone"!==F.lastPutMode)&&I&&I.parentNode&&I.parentNode.removeChild(I),f&&(this.nativeDraggable&&w(f,"dragend",this),It(f),f.style["will-change"]="",Be&&!Se&&X(f,F?F.options.ghostClass:this.options.ghostClass,!1),X(f,this.options.chosenClass,!1),H({sortable:this,name:"unchoose",toEl:C,newIndex:null,newDraggableIndex:null,originalEvent:e}),D!==C?(Y>=0&&(H({rootEl:C,name:"add",toEl:C,fromEl:D,originalEvent:e}),H({sortable:this,name:"remove",toEl:C,originalEvent:e}),H({rootEl:C,name:"sort",toEl:C,fromEl:D,originalEvent:e}),H({sortable:this,name:"sort",toEl:C,originalEvent:e})),F&&F.save()):Y!==xe&&Y>=0&&(H({sortable:this,name:"update",toEl:C,originalEvent:e}),H({sortable:this,name:"sort",toEl:C,originalEvent:e})),v.active&&((null==Y||-1===Y)&&(Y=xe,se=Xe),H({sortable:this,name:"end",toEl:C,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){G("nulling",this),D=f=C=b=ve=I=ot=ce=me=q=Be=Y=se=xe=Xe=_e=Ye=F=Je=v.dragged=v.ghost=v.clone=v.active=null,ht.forEach((function(e){e.checked=!0})),ht.length=Tt=Dt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":f&&(this._onDragOver(e),er(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,a=n.length,i=this.options;o<a;o++)K(e=n[o],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||ar(e));return t},sort:function(e,t){var n={},o=this.el;this.toArray().forEach((function(e,t){var a=o.children[t];K(a,this.options.draggable,o,!1)&&(n[e]=a)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(o.removeChild(n[e]),o.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return K(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var o=qe.modifyOption(this,e,t);n[e]=typeof o<"u"?o:t,"group"===e&&Zn(n)},destroy:function(){G("destroy",this);var e=this.el;e[j]=null,w(e,"mousedown",this._onTapStart),w(e,"touchstart",this._onTapStart),w(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(w(e,"dragover",this),w(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),pt.splice(pt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ce){if(G("hideClone",this),v.eventCanceled)return;g(I,"display","none"),this.options.removeCloneOnHide&&I.parentNode&&I.parentNode.removeChild(I),ce=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ce){if(G("showClone",this),v.eventCanceled)return;f.parentNode!=D||this.options.group.revertClone?ve?D.insertBefore(I,ve):D.appendChild(I):D.insertBefore(I,f),this.options.group.revertClone&&this.animate(f,I),g(I,"display",""),ce=!1}}else this._hideClone()}},gt&&_(document,"touchmove",(function(e){(v.active||Se)&&e.cancelable&&e.preventDefault()})),v.utils={on:_,off:w,css:g,find:jn,is:function(e,t){return!!K(e,t,e,!1)},extend:Xi,throttle:Wn,closest:K,toggleClass:X,clone:qn,index:z,nextTick:rt,cancelNextTick:Lt,detectDirection:Kn,getChild:Ae},v.get=function(e){return e[j]},v.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(v.utils=J(J({},v.utils),e.utils)),qe.mount(e)}))},v.create=function(e,t){return new v(e,t)},v.version=Gi;var Re,Ft,Ct,At,mt,He,k=[],Bt=!1;function sr(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?_(document,"dragover",this._handleAutoScroll):this.options.supportPointer?_(document,"pointermove",this._handleFallbackAutoScroll):t.touches?_(document,"touchmove",this._handleFallbackAutoScroll):_(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;!this.options.dragOverBubble&&!t.rootEl&&this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):(w(document,"pointermove",this._handleFallbackAutoScroll),w(document,"touchmove",this._handleFallbackAutoScroll),w(document,"mousemove",this._handleFallbackAutoScroll)),Tn(),at(),Yi()},nulling:function(){mt=Ft=Re=Bt=He=Ct=At=null,k.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(o,a);if(mt=e,t||this.options.forceAutoScrollFallback||ze||ne||$e){Ot(e,this.options,i,t);var r=de(i,!0);Bt&&(!He||o!==Ct||a!==At)&&(He&&Tn(),He=setInterval((function(){var i=de(document.elementFromPoint(o,a),!0);i!==r&&(r=i,at()),Ot(e,n.options,i,t)}),10),Ct=o,At=a)}else{if(!this.options.bubbleScroll||de(i,!0)===Z())return void at();Ot(e,this.options,de(i,!1),!1)}}},te(e,{pluginName:"scroll",initializeByDefault:!0})}function at(){k.forEach((function(e){clearInterval(e.pid)})),k=[]}function Tn(){clearInterval(He)}var Ot=Wn((function(e,t,n,o){if(t.scroll){var a,i=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=Z(),u=!1;Ft!==n&&(Ft=n,at(),Re=t.scroll,a=t.scrollFn,!0===Re&&(Re=de(n,!0)));var d=0,f=Re;do{var p=f,h=N(p),m=h.top,b=h.bottom,y=h.left,w=h.right,E=h.width,x=h.height,_=void 0,T=void 0,D=p.scrollWidth,S=p.scrollHeight,C=g(p),I=p.scrollLeft,A=p.scrollTop;p===c?(_=E<D&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),T=x<S&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(_=E<D&&("auto"===C.overflowX||"scroll"===C.overflowX),T=x<S&&("auto"===C.overflowY||"scroll"===C.overflowY));var O=_&&(Math.abs(w-i)<=l&&I+E<D)-(Math.abs(y-i)<=l&&!!I),M=T&&(Math.abs(b-r)<=l&&A+x<S)-(Math.abs(m-r)<=l&&!!A);if(!k[d])for(var L=0;L<=d;L++)k[L]||(k[L]={});(k[d].vx!=O||k[d].vy!=M||k[d].el!==p)&&(k[d].el=p,k[d].vx=O,k[d].vy=M,clearInterval(k[d].pid),(0!=O||0!=M)&&(u=!0,k[d].pid=setInterval(function(){o&&0===this.layer&&v.active._onTouchMove(mt);var t=k[this.layer].vy?k[this.layer].vy*s:0,n=k[this.layer].vx?k[this.layer].vx*s:0;"function"==typeof a&&"continue"!==a.call(v.dragged.parentNode[j],n,t,e,mt,k[this.layer].el)||zn(k[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==c&&(f=de(f,!1)));Bt=u}}),30),eo=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,a=e.activeSortable,i=e.dispatchSortableEvent,r=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=n||a;r();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);l(),s&&!s.el.contains(u)&&(i("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function qt(){}function Vt(){}qt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=Ae(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:eo},te(qt,{pluginName:"revertOnSpill"}),Vt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:eo},te(Vt,{pluginName:"removeOnSpill"}),v.mount(new sr),v.mount(Vt,qt);const ur="/EisvanaWikiPageCreator/staging/assets/icons/arrow.svg",cr={class:"gallery-item"},dr=["href"],fr=["src","alt"],pr={class:"gallery-meta"},hr={style:{"word-break":"break-all"}},mr=y("span",{class:"has-text-weight-bold"},"Name: ",-1),gr=["value"],vr={class:"controlButtons"},br={class:"handle",src:ur,title:"Move picture up or down",alt:"Move image via drag'n'drop"},yr=y("svg",{width:"36",height:"36"},[y("path",{d:"M2 25h32L18 9 2 25Z"})],-1),Er=[yr],wr=y("svg",{width:"36",height:"36"},[y("path",{d:"M2 11h32L18 27 2 11Z"})],-1),_r=[wr],Dn=$t({__name:"GalleryItem",props:{fileItem:{},isLoc:{type:Boolean}},setup(e){const t=Ut(),{galleryFiles:n,locationFiles:o}=Xt(t),a=e=>URL.createObjectURL(e),i=Ee(Array.isArray(x.galleryArray)?x.galleryArray:[]);function r(){"function"==typeof O.generateGalleryArray&&O.generateGalleryArray(),i.value=Array.isArray(x.galleryArray)?x.galleryArray:[]}function l(e,t){const a=n.value.indexOf(e),i=o.value.indexOf(e),r=(()=>{if(-1!==a)return n;if(-1!==i)return o;throw new Error("Couldn't find item!")})(),l=r.value.indexOf(e);if("up"===t&&l)r.value.splice(l-1,0,e),r.value.splice(l+1,1);else if("down"===t&&l!==r.value.length-1){const t=r.value.filter((t=>t!==e));t.splice(l+1,0,e),r.value=t}}return Yt((()=>r())),(e,t)=>(A(),M("div",cr,[y("a",{class:"gallery-media",href:a(e.fileItem.file),target:"_blank",rel:"noopener noreferrer"},[y("img",{src:a(e.fileItem.file),alt:e.fileItem.file.name},null,8,fr)],8,dr),y("div",pr,[y("p",hr,[mr,Pt(Ie(e.fileItem.file.name),1)]),le(y("div",null,[le(y("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.fileItem.desc=t),onMousedown:r,onTouchstart:r},[(A(!0),M(ue,null,Te(i.value,(e=>(A(),M("option",{value:e,key:e},Ie(e),9,gr)))),128))],544),[[ai,e.fileItem.desc]])],512),[[De,i.value.length]]),y("div",null,[le(y("input",{type:"text",placeholder:"Description","onUpdate:modelValue":t[1]||(t[1]=t=>e.fileItem.desc=t)},null,512),[[ri,e.fileItem.desc]])])]),y("div",vr,[y("button",{class:"delete-icon is-clickable",title:"Remove picture from gallery",onClick:t[2]||(t[2]=t=>function(e){n.value=n.value.filter((t=>t!==e)),o.value=o.value.filter((t=>t!==e))}(e.fileItem))}," ❌ "),le(y("img",br,null,512),[[De,!e.isLoc]]),le(y("button",{class:"button moveButton",title:"Move up","data-move":"up",onClick:t[3]||(t[3]=t=>l(e.fileItem,"up"))},Er,512),[[De,!e.isLoc]]),le(y("button",{class:"button moveButton",title:"Move down","data-move":"down",onClick:t[4]||(t[4]=t=>l(e.fileItem,"down"))},_r,512),[[De,!e.isLoc]])])]))}}),vt=e=>(Rn("data-v-22160e25"),e=e(),Hn(),e),Sr=["onDrop"],Tr=vt((()=>y("span",{class:"drop-title"},"Drop gallery files here",-1))),Dr={key:0,class:"tooltip",name:"galleryFileUploadTooltip"},xr=vt((()=>y("data",null,"There is a preferred order of pictures.",-1))),Ir=vt((()=>y("data",null,"Gallery",-1))),Cr=["innerHTML"],Ar={key:0,class:"error-list"},Or=vt((()=>y("div",null,[Pt("The following file(s) exceed the 10MB upload limit and couldn't be added. You can compress them with the "),y("a",{href:"https://nmscd.com/Image-Compressor/",target:"_blank",rel:"noopener noreferrer"},"Image Compressor"),Pt(". ")],-1))),kr=$t({__name:"FileUpload",setup(e){const t=Ee(null),n=Ee(!1),o=Ee([]),a=Ee("");Yt((()=>{Qt((()=>{x.galleryExplanationExternal&&(a.value="string"==typeof x.galleryExplanationExternal?x.galleryExplanationExternal:"",Qt((()=>{a.value&&kn()})))}))}));let i=0;const r=Ut(),{galleryFiles:l}=Xt(r);function s(e){var t;n.value=!1;const o=null==(t=e.dataTransfer)?void 0:t.files;null!=o&&o.length&&u(o)}function c(e){if(!(e.target instanceof HTMLInputElement))return;const t=e.target.files;null!=t&&t.length&&u(t)}function u(e){const t=Array.from(e),n=t.filter((e=>e.size>1e7));o.value=n.map((e=>e.name));const a=t.filter((e=>!n.includes(e)));(function(e,t){for(const n of[e].flat())t.value.unshift({id:i++,desc:"",file:n})})(Array.from(a),l),!W.galleryUploadShown&&a.length&&(x.galleryExplanationExternal&&Po("Gallery",`${x.galleryExplanationExternal}\n\t<div class="mt-3"><span class="has-text-weight-bold">NOTE</span>: You can access this popup at any time by clicking on the "?" next to the gallery upload button.</div>`),W.galleryUploadShown=!0)}return(e,i)=>(A(),M(ue,null,[y("label",{for:"galleryUpload",class:en(["drop-container",{"drag-active":n.value}]),onDragenter:i[0]||(i[0]=e=>n.value=!0),onDragleave:i[1]||(i[1]=e=>n.value=!1),onDrop:fn(s,["prevent"]),onDragover:i[2]||(i[2]=fn((()=>{}),["prevent"]))},[y("div",null,[Tr,a.value?(A(),M("button",Dr,[xr,Ir,y("data",{innerHTML:a.value},null,8,Cr)])):Ge("",!0)]),y("input",{ref_key:"galleryUpload",ref:t,class:en({error:o.value.length}),accept:"image/*",type:"file",id:"galleryUpload",multiple:"",onChange:c},null,34)],42,Sr),o.value.length?(A(),M("div",Ar,[Or,(A(!0),M(ue,null,Te(o.value,(e=>(A(),M("div",{key:e},Ie(e),1)))),128))])):Ge("",!0)],64))}}),to=(e,t)=>{const n=e.__vccOpts||e;for(const[e,o]of t)n[e]=o;return n},Pr=to(kr,[["__scopeId","data-v-22160e25"]]),oe=e=>(Rn("data-v-526cbe02"),e=e(),Hn(),e),Nr={key:0,class:"gallery-preview-header"},Mr=oe((()=>y("label",{class:"has-text-weight-bold"},"Gallery Preview",-1))),Lr={key:0,class:"gallery-preview"},Fr=oe((()=>y("label",{class:"has-text-weight-bold is-block mb-1"},"Location Files",-1))),Br={id:"gallery"},Rr=oe((()=>y("div",null,"==Gallery==",-1))),Hr=oe((()=>y("div",null,"<gallery>",-1))),Gr={id:"galleryOutput"},$r=oe((()=>y("div",null,"</gallery>",-1))),Ur={key:0,id:"locationGallery"},Xr=oe((()=>y("br",null,null,-1))),Yr=oe((()=>y("div",null,"===Location===",-1))),jr=oe((()=>y("div",null,"<gallery>",-1))),Wr={id:"locationGalleryOutput"},zr=oe((()=>y("div",null,"</gallery>",-1))),qr=$t({__name:"App",setup(e){const t=Ee(null),n=Ee(!1);Yt((()=>{window.matchMedia("(pointer: coarse)").matches||!t.value||new v(t.value,{handle:".handle",animation:250,onUpdate:function(e){!function(e){const t=e.oldIndex,n=e.newIndex;if("number"!=typeof t||"number"!=typeof n)return;const o=a.value.splice(t,1);a.value.splice(n,0,o[0])}(e)}})}));const o=Ut(),{galleryFiles:a,locationFiles:i}=Xt(o);function r(e){a.value.push(e);const t=i.value.indexOf(e);i.value.splice(t,1)}function l(e){return e.file.name+(e.desc?"|"+e.desc:"")}function s(){n.value=!n.value}return No((()=>{if(a.value.length+i.value.length>5&&("fauna"===x.pageType||"sandworm"===x.pageType)){const e=["Moon Page","Planet Page","System Page","Galaxy Map"],t=e.map((e=>e.toLowerCase())),n=a.value.filter((e=>t.includes(e.desc.toLowerCase())));for(let o=n.length-1;o>=0;o--){const r=n[o],l=t.indexOf(r.desc.toLowerCase());r.desc=e[l],i.value.push(r);const s=a.value.indexOf(r);a.value.splice(s,1)}for(let e=i.value.length-1;e>=0;e--){const n=i.value[e];t.includes(n.desc.toLowerCase())||r(n)}i.value=e.flatMap((e=>i.value.filter((t=>t.desc===e))))}else for(let e=i.value.length-1;e>=0;e--)r(i.value[e])})),(e,o)=>(A(),M(ue,null,[Mo(Pr),(A(),Ze(tn,{to:"#galleryItems"},[ae(a).length?(A(),M("div",Nr,[Mr,y("button",{class:"button",onClick:s},Ie(n.value?"Show":"Hide"),1)])):Ge("",!0),le(y("div",null,[le(y("div",{ref_key:"filePreview",ref:t,class:"gallery-preview"},[(A(!0),M(ue,null,Te(ae(a),(e=>(A(),Ze(Dn,{key:e.id,"file-item":e,"is-loc":!1},null,8,["file-item"])))),128))],512),[[De,ae(a).length]]),ae(i).length?(A(),M("div",Lr,[Fr,(A(!0),M(ue,null,Te(ae(i),(e=>(A(),Ze(Dn,{key:e.id,"file-item":e,"is-loc":!0},null,8,["file-item"])))),128))])):Ge("",!0)],512),[[De,!n.value]])])),(A(),Ze(tn,{to:"#gallery"},[y("div",Br,[Rr,Hr,y("div",Gr,[(A(!0),M(ue,null,Te(ae(a),(e=>(A(),M("div",{key:e.id},Ie(l(e)),1)))),128))]),$r]),ae(i).length?(A(),M("div",Ur,[Xr,Yr,jr,y("div",Wr,[(A(!0),M(ue,null,Te(ae(i),(e=>(A(),M("div",{key:e.id},Ie(l(e)),1)))),128))]),zr])):Ge("",!0)]))],64))}}),Vr=to(qr,[["__scopeId","data-v-526cbe02"]]),no=di(Vr);no.use(Lo()),no.mount("#galleryInput"),Fo(L.output.portalglyphButtons,"portalglyphsInput");const Kr=Bo();Gt("pageType",Kr),Ro(),Pn(),Ho(),W.uploadShown=!0,W.galleryUploadShown=!0,Nn(),W.debug||(W.uploadShown=!1,W.galleryUploadShown=!1),st();const oo=L.output.output;oo.onmousedown=()=>Go();for(const e of Array.from(oo.children)){const t=e;t.onmouseup=e=>nn(e.target),t.ontouchend=e=>nn(e.target)}$o();try{Bn(L.input.portalglyphsInput,"input")}catch{}Gt("eventListeners",!0);export{Pi as a,Ni as b,ki as c,ea as d,Oi as e,Ai as f,jt as g,Ci as h,Ii as i,Qr as t};
