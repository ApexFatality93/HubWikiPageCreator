function switchTheme(){document.documentElement.dataset.transition="true","light"==localStorage.getItem("theme")?(localStorage.setItem("theme","dark"),document.documentElement.dataset.theme="dark"):(localStorage.setItem("theme","light"),document.documentElement.dataset.theme="light"),setTimeout((()=>{delete document.documentElement.dataset.transition}),400)}(()=>{const t='<button class="button" id="switchTheme" onclick="switchTheme()">Switch light/dark mode</button>\n\t<div class="footerLinks">\n\t\t<button type="button" onclick="showSettings()">Settings</button>\n\t\t<a href=\'./about.html\' id="about">About</a>\n\t\t<a href=\'https://docs.google.com/forms/d/e/1FAIpQLSdXFIaHbeCWVsiaeIvcJL0A3aWiB5tQQFf2ofg0dr7lOkDChQ/viewform\' rel=\'noreferrer noopener\' target=\'_blank\'>Feedback Form</a>\n\t</div>\n\t<dialog id="settings" class="modal-content content">\n\t\t<h2 class="title is-4">Global Preload Values</h2>\n\t\t<div class="table">\n\t\t\t<div class="tableCell text">\n\t\t\t\t<label>Civ:</label>\n\t\t\t</div>\n\t\t\t<div class="tableCell data">\n\t\t\t\t<select id="civDefault" data-store="civInput">\n\t\t\t\t\t<option value="GHub">GHub</option>\n\t\t\t\t\t<option value="CalHub">CalHub</option>\n\t\t\t\t\t<option value="EisHub">EisHub</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div class="tableCell text">\n\t\t\t\t<label for="discoveredlinkDefault">Discoverer wiki account:</label>\n\t\t\t</div>\n\t\t\t<div class="tableCell data">\n\t\t\t\t<input id="discoveredlinkDefault" type="text" data-store="discoveredlinkInput builderlinkInput ownerlinkInput">\n\t\t\t</div>\n\t\t\t<div class="tableCell text">\n\t\t\t\t<label for="discoveredDefault">Discoverer alias if no wiki:</label>\n\t\t\t</div>\n\t\t\t<div class="tableCell data">\n\t\t\t\t<input id="discoveredDefault" type="text" data-store="discoveredInput builderInput ownerInput">\n\t\t\t</div>\n\t\t\t<div class="tableCell text">\n\t\t\t\t<label for="docbyDefault">Documenter alias if not discoverer:</label>\n\t\t\t</div>\n\t\t\t<div class="tableCell data">\n\t\t\t\t<input id="docbyDefault" type="text" data-store="docbyInput">\n\t\t\t</div>\n\t\t\t<div class="tableCell text">\n\t\t\t\t<label for="systemDefault">Name of the system:</label>\n\t\t\t</div>\n\t\t\t<div class="tableCell data">\n\t\t\t\t<input id="systemDefault" type="text" data-store="systemInput">\n\t\t\t</div>\n\t\t\t<div class="tableCell text">\n\t\t\t\t<label for="planetDefault">Name of the planet:</label>\n\t\t\t</div>\n\t\t\t<div class="tableCell data">\n\t\t\t\t<input id="planetDefault" type="text" data-store="planetInput">\n\t\t\t</div>\n\t\t\t<div class="tableCell text">\n\t\t\t\t<label for="moonDefault">Name of the moon:</label>\n\t\t\t</div>\n\t\t\t<div class="tableCell data">\n\t\t\t\t<input id="moonDefault" type="text" data-store="moonInput">\n\t\t\t</div>\n\t\t\t<div class="tableCell text">\n\t\t\t\t<label>Platform:</label>\n\t\t\t</div>\n\t\t\t<div class="tableCell data">\n\t\t\t\t<select id="platformDefault" data-store="platformInput">\n\t\t\t\t\t<option value="PC">PC</option>\n\t\t\t\t\t<option value="PS">PlayStation</option>\n\t\t\t\t\t<option value="XB">Xbox</option>\n\t\t\t\t\t<option value="NS">Switch</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div class="tableCell text">\n\t\t\t\t<label>Chapter:</label>\n\t\t\t</div>\n\t\t\t<div class="tableCell data">\n\t\t\t\t<select id="researchteamDefault" data-store="researchteamInput">\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div class="tableCell text">\n\t\t\t\t<div class="label-combo">\n\t\t\t\t\t<label for="portalglyphsDefault">Portalglyphs:</label>\n\t\t\t\t\t<button class="button is-small is-danger" type="button" data-input-bind="portalglyphsDefault" onclick="deleteCharacter(this)">&larr;\n\t\t\t\t\t\tDelete</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="tableCell data">\n\t\t\t\t<input type="text" id="portalglyphsDefault" maxlength="12" data-store="portalglyphsInput">\n\t\t\t</div>\n\t\t\t<div class="tableHeader data">\n\t\t\t\t<div id="settingsPortalglyphButtons" class="portalglyphButtons"></div>\n\t\t\t\t<output id="settingsPortalglyphsPreview" class="glyph portalglyphsPreview"></output>\n\t\t\t</div>\n\t\t\t<div class="tableCell text">\n\t\t\t\t<label>System wealth:</label>\n\t\t\t</div>\n\t\t\t<div class="tableCell data">\n\t\t\t\t<select id="wealthDefault" data-store="wealthInput">\n\t\t\t\t\t<optgroup label="T3">\n\t\t\t\t\t\t<option value="â˜…â˜…â˜… (Advanced)">Advanced</option>\n\t\t\t\t\t\t<option value="â˜…â˜…â˜… (Affluent)">Affluent</option>\n\t\t\t\t\t\t<option value="â˜…â˜…â˜… (Booming)">Booming</option>\n\t\t\t\t\t\t<option value="â˜…â˜…â˜… (Flourishing)">Flourishing</option>\n\t\t\t\t\t\t<option value="â˜…â˜…â˜… (High Supply)">High Supply</option>\n\t\t\t\t\t\t<option value="â˜…â˜…â˜… (Opulent)">Opulent</option>\n\t\t\t\t\t\t<option value="â˜…â˜…â˜… (Prosperous)">Prosperous</option>\n\t\t\t\t\t\t<option value="â˜…â˜…â˜… (Wealthy)">Wealthy</option>\n\t\t\t\t\t</optgroup>\x3c!-- here ends T3--\x3e\n\t\t\t\t\t<optgroup label="T2">\n\t\t\t\t\t\t\x3c!--here begins T2--\x3e\n\t\t\t\t\t\t<option value="â˜…â˜… (Adequate)">Adequate</option>\n\t\t\t\t\t\t<option value="â˜…â˜… (Balanced)">Balanced</option>\n\t\t\t\t\t\t<option value="â˜…â˜… (Comfortable)">Comfortable</option>\n\t\t\t\t\t\t<option value="â˜…â˜… (Developing)">Developing</option>\n\t\t\t\t\t\t<option value="â˜…â˜… (Medium Supply)">Medium Supply</option>\n\t\t\t\t\t\t<option value="â˜…â˜… (Promising)">Promising</option>\n\t\t\t\t\t\t<option value="â˜…â˜… (Satisfactory)">Satisfactory</option>\n\t\t\t\t\t\t<option value="â˜…â˜… (Sustainable)">Sustainable</option>\n\t\t\t\t\t</optgroup>\x3c!-- here ends T2--\x3e\n\t\t\t\t\t<optgroup label="T1">\n\t\t\t\t\t\t\x3c!--here begins T1--\x3e\n\t\t\t\t\t\t<option value="â˜… (Declining)">Declining</option>\n\t\t\t\t\t\t<option value="â˜… (Destitute)">Destitute</option>\n\t\t\t\t\t\t<option value="â˜… (Failing)">Failing</option>\n\t\t\t\t\t\t<option value="â˜… (Fledgling)">Fledgling</option>\n\t\t\t\t\t\t<option value="â˜… (Low Supply)">Low Supply</option>\n\t\t\t\t\t\t<option value="â˜… (Struggling)">Struggling</option>\n\t\t\t\t\t\t<option value="â˜… (Unsuccessful)">Unsuccessful</option>\n\t\t\t\t\t\t<option value="â˜… (Unpromising)">Unpromising</option>\n\t\t\t\t\t</optgroup>\n\t\t\t\t\t\x3c!--here ends T1--\x3e\n\t\t\t\t\t<optgroup label="Pirate">\n\t\t\t\t\t\t<option value="ðŸ’€ (Black Market)">Black Market</option>\n\t\t\t\t\t</optgroup>\n\t\t\t\t\t<optgroup label="Abandoned/Uncharted">\n\t\t\t\t\t\t<option value="">Data Unavailable</option>\n\t\t\t\t\t</optgroup>\n\t\t\t\t</select>\n\t\t\t</div>\n\n\t\t</div>\n\t\t<p>If you experience weird behaviour, restore the defaults and click "Set".</p>\n\t\t<form method="dialog">\n\t\t\t<button class="button is-primary" type="submit" onclick="updateDefaultValues()">Set</button>\n\t\t\t<button class="button is-danger" type="submit" autofocus>Cancel</button>\n\t\t\t<button class="button is-warning" type="reset" onclick="restoreDefaults()">Restore Defaults</button>\n\t\t</form>\n\t</dialog>';"undefined"==typeof globalElements?document.getElementById("footer").innerHTML=t:globalElements.output.footer.innerHTML=t;let e=localStorage.getItem("theme")??"light";!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(e="dark"),"dark"==e&&(document.documentElement.dataset.theme="dark"),localStorage.getItem("theme")||localStorage.setItem("theme",e);const n=document.getElementById("about");n.href==window.location&&n.remove()})();const footerElements={input:{settings:"settings"}};function showSettings(){restoreDefaults();const t=globalElements.input.settings;t.style.scale="0",t.showModal(),t.style.scale="1",t.scrollTo(0,0);const e=JSON.parse(localStorage.getItem("defaultSettings"))??new Object;for(const n in e){const l=t.querySelector(`.data [data-store="${n}"]`);if(l)switch(l.value=e[n],l.id){case"civDefault":l.onchange();break;case"portalglyphsDefault":executeOnInput(l)}}hideDiscoverer(),delete pageData.restored}function updateDefaultValues(){if(pageData.restored)return localStorage.removeItem("defaultSettings"),void delete pageData.restored;const t=new Object,e=footerElements.inputs;for(const n of e){const e=n?.value,l=n?.dataset?.store;(n?.options?.[n.options.length-1]?.value==e||e)&&l&&(t[l]=sanitiseString(e))}localStorage.setItem("defaultSettings",JSON.stringify(t))}function readDefaultValues(){const t=JSON.parse(localStorage.getItem("defaultSettings"))??new Object;for(const e in t){const n=e.split(" ").length>1?e.split(" ").map((t=>document.getElementById(t))).find((t=>t)):document.getElementById(e);if(n)switch(n.value=t[e],e){case"civInput":pageData.civShort=t[e],researchTeamDropdown();break;case"portalglyphsInput":executeOnInput(n)}}}function restoreDefaults(){const t=footerElements.inputs;for(const e of t)null!=e?.value&&("select"==e.tagName.toLowerCase()?e.value=e.options?.[0]?.value:e.value="");hideDiscoverer(),pageData.restored=!0}function validateGlyphSettings(t){const e=t.value,n=structuredClone(regions);addHuburbs(n),Object.freeze(n);const l=validateGlyphs(e,globalElements.input.civDefault.value,n);glyphError(l,t),globalElements.input.settings.querySelector("form button.is-primary").disabled=null==l}(()=>{const t=document.querySelectorAll("footer dialog .data>*");t.forEach((t=>{footerElements.input[t.id]=t.id,t.dataset.store&&assignFunction(t,"delete pageData.restored")})),updateGlobalElements(footerElements),footerElements.inputs=t,addPortalGlyphButtons(globalElements.input.settingsPortalglyphButtons,"portalglyphsDefault");assignElementFunctions({civDefault:["researchTeamDropdown(globalElements.input.researchteamDefault, this.value)"],discoveredDefault:['hideDiscoverer("discoveredDefault", "discoveredlinkDefault")'],discoveredlinkDefault:['hideDiscoverer("discoveredlinkDefault", "discoveredDefault")'],portalglyphsDefault:['glyphInputOnChange(this); validateGlyphSettings(this); document.getElementById("settingsPortalglyphsPreview").value = validateGlyphInput(this.value)']})})();
