function startupFunctions(){genusDropdown(),albumDropdown(),hideOrgName(),pageName(),specialNotes(),specialNotesTextFunc(),genusProduces(),addInfo(),addInfoBullet(),hideSecGenderProps(),hideCreaturePrio(),bundlePropFunctions(),hideAlbumEntry(),albumFunctions(),noLineBreak()}const creatureElements={input:{gender:"Gender"}};updateGlobalElements(creatureElements);const creatureElementFunctions={nameInput:["pageName(); albumName()"],oldNameInput:["hideOrgName(); pageName(); albumName()"],planetInput:["planetMoonSentence()"],moonInput:["planetMoonSentence()"],ecosystemInput:["genusDropdown(); albumDropdown(); genusProduces()"],genusInput:["genusProduces()"],civ:["albumDropdown(); hideAlbumEntry();",null,!0],notesInput:["specialNotes(); specialNotesTextFunc()"],specialNotesInput:["specialNotesTextFunc()"],catalogueInput:["addInfo(); addInfoBullet(); albumTitle(); hideAlbumEntry()"],researchTeam:["addInfo()",null,!0],genderInput:['hideSecGenderProps(); hideCreaturePrio(); genderProps("gender", "gender2")'],gender2Input:['hideSecGenderProps(); hideCreaturePrio(); genderProps("gender", "gender2")'],heightInput:['genderProps("height", "height2"); albumOther(); numberError(this)'],weightInput:['genderProps("weight", "weight2"); numberError(this)'],height2Input:['genderProps("height", "height2"); albumOther(); numberError(this)'],weight2Input:['genderProps("weight", "weight2"); numberError(this)'],gender:["bundlePropFunctions(); albumOther()"],discoveredInput:["albumDiscoverer()"],discoveredlinkInput:["albumDiscoverer()"],dmInput:["noLineBreak()"]};function genusDropdown(){const e=getCreatureData(),t=pageData.ecosystem,n=Object.keys(e.ecosystems[t]),a=new Array;for(const o of n)a.push(`${o} (${e.ecosystems[t][o].commonName})`);setDropdownOptions(globalElements.input.genusInput,n,a),wikiCode(globalElements.input.genusInput)}function albumDropdown(){const e=getCreatureData(),t="GHub"==pageData.civShort?"GHEC":pageData.civShort,n=pageData.ecosystem,a=globalElements.input.catalogueInput,o=pageData.galaxy,r=e.catalogs[o][n],s=[r[0]],l=[r[0]];for(let e=1;e<r.length;e++){const n=`${t} ${r[e]}`;s.push(`${n} Album`),l.push(n)}setDropdownOptions(a,s,l),storeData(a)}function addInfo(){const e=globalElements.output.addInfo,t=docByResearchteam("GHEC"),n=pageData.catalogue;if(!n)return void(e.style.display="none");e.style.display="";const a="[["+n+"]]"+t;e.innerText=`Featured in the ${a}`,addInfoBullet()}function pageName(){const e=globalElements.input.nameInput.value,t=globalElements.input.oldNameInput.value,n=t||e;return wikiCode(n,"name"),n}function genusProduces(){const e=pageData.genus,t=getCreatureData(),n=Object.keys(t.ecosystems),a=globalElements.input.producesInput;for(const o of n){if(!Object.keys(t.ecosystems[o]).includes(e))continue;const n=t.ecosystems[o][e].produces;setDropdownOptions(a,n),n.length>1?hideInput(a,""):hideInput(a,"none"),wikiCode(a)}}function hideSecGenderProps(){const e=pageData.gender,t=pageData.gender2,n=globalElements.input.weight2Input,a=globalElements.input.height2Input,o=globalElements.input.gender2Input;t&&e!=t?(hideInput(n,""),hideInput(a,"")):(hideInput(n,"none"),hideInput(a,"none"),n.value="",a.value="",o.value="",storeData(n),storeData(a),storeData(o))}function specialNotes(){const e=pageData.notes,t=globalElements.input.specialNotesInput;t.value=e,"Evil"==e||"Sheds and regrows bones"==e?hideInput(t,""):hideInput(t,"none"),storeData(t)}function specialNotesTextFunc(){const e=pageData.notes,t=pageData.addObservation,n=globalElements.input.notesInput,a=globalElements.output.addObservation;if(wikiCode(n,n.dataset.destNoauto),!e)return void(a.innerText="'''Additional Observations''': ");const o=t&&t!=e?t:"'''Additional Observations''': "+e;a.innerText=o}function hideCreaturePrio(){const e=globalElements.input.gender1;pageData.gender2?hideInput(e,""):hideInput(e,"none")}function creaturePrio(){const e=globalElements.input.gender;for(const t of e)if(t.checked)return t.value}function genderProps(e,t){const n=creaturePrio(),a=pageData.gender2,o=pageData[e],r=pageData[t];let s,l;"gender"!=e&&(s=parseFloat(o)?parseFloat(o).toFixed(1):"",l=parseFloat(r)?parseFloat(r).toFixed(1):"");const u=s??o,i=l??r;pageData[e]=u,pageData[t]=i;const d=a&&u!=i&&i?u?"gender1"==n?u+" - "+i:i+" - "+u:i:u;globalElements.output[e].innerText=d}function bundlePropFunctions(){genderProps("height","height2"),genderProps("weight","weight2"),genderProps("gender","gender2")}function hideAlbumEntry(){const e={true:"",false:"hidden"}[Boolean(pageData.catalogue).toString()];globalElements.output.albumEntry.style.visibility=e,globalElements.output.albumActions.style.visibility=e}function albumOtherExternal(){const e=[pageData.height,pageData.height2],t=creaturePrio();return`(${e[(()=>{const e=extractNumber(t);return parseInt(e)-1})()]}m)`}function albumTitle(){globalElements.output.album.innerText=pageData.catalogue}function albumCivExternal(){return""}function noLineBreak(){const e=globalElements.input.dmInput,t=e.dataset.destNoauto,n=e.value.replaceAll("\n"," ");e.value=n,wikiCode(e,t)}function generateGalleryArray(){let e,t;if(pageData.gender2){"gender2"==creaturePrio()?(e=pageData.gender2,t=pageData.gender):(e=pageData.gender,t=pageData.gender2)}const n=["",`${e} gender`,`${e} gender scan`,`${t} gender`,`${t} gender scan`,"Creature scan","Discovery Menu","Moon Page","Planet Page","System Page","Galaxy Map"];if(!pageData.moon){const e=n.findIndex((e=>e.toLowerCase().includes("moon")));n.splice(e,1)}const a=structuredClone(n).map((e=>e.toLowerCase()));for(let e=n.length-1;e>=0;e--){const o=a[e];t?o.includes("creature")&&n.splice(e,1):o.includes("gender")&&n.splice(e,1)}pageData.galleryArray=n}function galleryExplanationExternal(){return"There is a preferred order of pictures:\n\t<div class='dialog-center'>\n\t\t<ol class='dialog-list'>\n\t\t\t<li>Gender 1</li>\n\t\t\t<li>Gender 2</li>\n\t\t\t<li>Gender 1 scan</li>\n\t\t\t<li>Gender 2 scan</li>\n\t\t\t<li>Discovery Menu</li>\n\t\t\t<li>Moon Page</li>\n\t\t\t<li>Planet Page</li>\n\t\t\t<li>System Page</li>\n\t\t\t<li>Galaxy Map</li>\n\t\t</ol>\n\t</div>"}assignElementFunctions(creatureElementFunctions);
