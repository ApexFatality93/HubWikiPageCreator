const baseElementFunctions={planetInput:["planetMoonSentence()"],moonInput:["planetMoonSentence()"],censusRedditInput:["validateReddit()"],censusFriendInput:["capitaliseFriendCode()"],censusPlayerInput:["createCensusEntry()"],builderInput:['hideDiscoverer("builderInput", "builderlinkInput"); docBy()'],builderlinkInput:['hideDiscoverer("builderlinkInput", "builderInput"); docBy()'],addInfoInput:["addInfoBullet()"]};function startupFunctions(){getCurrentYear("censusrenewal")}function validateReddit(){const e=globalElements.input.censusRedditInput,n=e.value.trim(),t=n.toLowerCase().startsWith("u/")?n.substring(2):n;if(t.includes(" "))return void errorMessage(e,"Reddit name must not include spaces");errorMessage(e);const s=e.dataset.destNoauto;wikiCode(t,s)}function capitaliseFriendCode(){const e=globalElements.input.censusFriendInput;e.value=e.value.toUpperCase();const n=e.dataset.destNoauto;wikiCode(e,n)}function createCensusEntry(){const e=globalElements.input.censusPlayerInput,n=Boolean(e.value),t=globalElements.input.censusShowInput;t.checked!=n&&(t.checked=n,checkboxWikiCode(t))}assignElementFunctions(baseElementFunctions),globalElements.input.censusDiscordInput.onchange=()=>{const e=globalElements.input.censusDiscordInput,n=e.value;if(!n)return void errorMessage(e);const t=n.substring(n.length-5),s=t.substring(0,1),u=t.substring(1);"#"===s&&/^\d+$/.test(u)?" "===n.substring(n.length-6,n.length-5)?errorMessage(e,"There is a space between the name and the #xxxx. Ignore this message if this is correct."):errorMessage(e):errorMessage(e,"Invalid Discord tag. Include #xxxx at the end")},globalElements.input.censusFriendInput.onchange=()=>{const e=globalElements.input.censusFriendInput,n=e.value,t=new RegExp(/(?:[0-9A-Za-z]{4}-){2}[0-9A-Za-z]{5}/);!n||regexMatch(n,t)?errorMessage(e):errorMessage(e,"Wrong friend code format")};
