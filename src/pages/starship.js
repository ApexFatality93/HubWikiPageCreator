function startupFunctions(){subtypeDropdown(),showHideStarshipSelects(),shipStats(),calcS(),introType(),loc(),addInfo(),appearanceDropdowns(),albumFunctions(),enPrefix(globalElements.input.typeInput.value,"enPrefix")}const starshipElements={input:{economyInput:"wealthInput"}};updateGlobalElements(starshipElements);const starshipElementFunctions={nameInput:["appearanceSentence(); albumName()"],civ:["loc(); addInfo()",null,!0],systemInput:["loc()"],planetInput:["loc(); albumOther()"],moonInput:["loc(); albumOther()"],portalglyphsInput:["loc()",null,!0],axesInput:["loc(); albumOther()"],typeInput:['introType(); subtypeDropdown(); showHideStarshipSelects(); shipStats(); appearanceDropdowns(); appearanceSentence(); calcS(); loc(); addInfo(); albumOther(); enPrefix(this.value, "enPrefix")'],subtypeInput:["invDropdown(); calcInv(); appearanceSentence(), loc()"],inventoryInput:["costSlotCalc(); loc()"],economyInput:["calcS(); albumOther()"],pilotInput:["albumOther()"],maneuverBInput:["numberStats(this, 1)"],damageBInput:["numberStats(this, 1)"],shieldBInput:["numberStats(this, 1)"],warpBInput:["numberStats(this, 1)"],discoveredInput:["albumDiscoverer()"],discoveredlinkInput:["albumDiscoverer()"],researchTeam:["addInfo()",null,!0],mainColourInput:["appearanceSentence()"],secColourInput:["appearanceSentence()"],secPartsInput:["appearanceSentence()"],accessoriesInput:["appearanceSentence()"],miscPartsInput:["appearanceSentence()"]};function getShipData(){const e={subtypeInput:["show"],exoticInput:["hide",""],pilotInput:["hide",""],inventoryInput:["show"],maneuverBInput:["hide",""],damageBInput:["hide",""],shieldBInput:["hide",""],warpBInput:["hide",""],economyInput:["show"],planetInput:["hide",""],moonInput:["hide",""],axesInput:["hide",""]},t={Freighter:{cost:{Small:"5,000,000 - 23,000,000",Large:"26,150,000 - 178,000,000"},slots:{Small:"15-19",Large:"24-34"},techslots:{Small:"8-12",Large:"12-20"},subtypes:["Dreadnought","Battleship","Sentinel","Resurgent","Imperial","Venator","Blade","Cargo","Centrifuge","Enterprise","Galleon","Hammerhead","Iris","Oculus","Revolver"],secParts:["","Tower","Elevated","Spoiler","Keiser"],accessories:["","Keel","Bottom Fin","Top Fin","W-Wings","Wedge","Nacelle"],miscParts:["","Cargo Boxes","Cargo Pods"],sections:{subtypeInput:["show"],exoticInput:["hide",""],pilotInput:["show"],inventoryInput:["hide"],maneuverBInput:["hide",""],damageBInput:["hide",""],shieldBInput:["hide",""],warpBInput:["hide",""],economyInput:["show"],planetInput:["hide",""],moonInput:["hide",""],axesInput:["hide",""]}},Exotic:{cost:{Small:"20,900,000 - 41,000,000"},slots:{Small:"24-30"},techslots:{Small:"20-28"},subtypes:[],secParts:["","Small Double Thruster","Large Double Thruster","Clam Shell Thruster","Single Thruster"],accessories:["","Side Wings","Side Booster"],miscParts:["","Hexagon","Acanthus","Geometric Plate","Circles","Sergeant Stripes"],sections:{subtypeInput:["hide",""],exoticInput:["show"],pilotInput:["hide",""],inventoryInput:["hide","Small"],maneuverBInput:["hide",""],damageBInput:["hide",""],shieldBInput:["hide",""],warpBInput:["hide",""],economyInput:["show"],planetInput:["hide",""],moonInput:["hide",""],axesInput:["hide",""]}},Solar:{cost:{Small:"4,000,000 - 14,000,000"},slots:{Small:"24-30"},techslots:{Small:"13-18"},subtypes:["Falcon","Grouper","Jackal","Marlin","Raven","Spider"],secParts:["","Razor","Shielded","Double Blade","Starburst","Talon","Grapple"],accessories:["","Hex","Crescent","Rectangle"],miscParts:["","Horza","Verta","Tristar","Torpedo","Drill"],sections:{subtypeInput:["show"],exoticInput:["hide",""],pilotInput:["hide",""],inventoryInput:["hide"],maneuverBInput:["hide",""],damageBInput:["hide",""],shieldBInput:["hide",""],warpBInput:["hide",""],economyInput:["show"],planetInput:["hide",""],moonInput:["hide",""],axesInput:["hide",""]}},Fighter:{cost:{Small:"4,050,000 - 15,650,000",Medium:"4,050,000 - 27,650,000",Large:"10,500,000 - 57,500,000"},slots:{Small:"24-28",Medium:"24-32",Large:"30-38"},techslots:{Small:"14-19",Medium:"14-24",Large:"19-30"},subtypes:["Alpha","Barrel","Jet","Long","Needle","Rasa","Snowspeeder","Stubby","Viper"],secParts:["","Heavy","Starjumper","Horizon","Vector","Tie","Halo","Bowie-H","Bowie-V","Gull","Quasar","Vulture","Droid","Mecha-3","Mecha-5","Mecha-7","E-Wings","Aftershock","Shockwave","Starscream"],accessories:["","Box Thruster","Single Thruster","Triple Thruster"],miscParts:["","Serenity","Firefly"],sections:e},Explorer:{cost:{Small:"3,450,000 - 11,900,000",Medium:"3,450,000 - 18,300,000",Large:"9,200,000 - 39,000,000"},slots:{Small:"24-29",Medium:"24-32",Large:"30-38"},techslots:{Small:"14-19",Medium:"19-24",Large:"24-30"},subtypes:["Hopper","Firespray"],secParts:["","Curved Cockpit","Bubble Cockpit"],accessories:["","Ajairu","Arc","Chick","Curved-Tie","Dagger","Dragonfly","Glider","Lance","No Wings","Nucleo","Proteus","Solar Fins","Solar Pods","Solar Tie","T3 Pods","Wraith","Xenia","Xtara","X-Wing"],sections:e},Hauler:{cost:{Small:"9,700,000 - 37,500,000",Medium:"20,850,000 - 58,500,000",Large:"32,500,000 - 126,000,000"},slots:{Small:"30-36",Medium:"36-40",Large:"40-48"},techslots:{Small:"12-18",Medium:"18-24",Large:"20-30"},subtypes:{Aftershock:["Small"],Ball:["Small","Large"],"Body only":["Small"],Box:["Small","Large"],"C-Wing":["Small"],"Bent Wing":["Small"],"D-Flect Wing":["Medium"],"E-Wing":["Small"],"Fan Wing":["Large"],"V-Wing":["Small"],"Thrusters only":["Small"],"W-Wing":["Medium"],Shield:["Small"],"Tie-Shield":["Small"],"Split Shield":["Small"]},secParts:["","Mack","Duck","Robot","Turret","Box Nose"],accessories:["","Short Tail","Long Tail","Box Tail"],miscParts:["","High Wings","Serenity","2rpedo","Sabre","V-Blade","Tilt"],sections:e},Shuttle:{cost:{Small:"2,070,000 - 12,650,000",Medium:"4,400,000 - 22,500,000"},slots:{Small:"24-32",Medium:"28-36"},techslots:{Small:"12-19",Medium:"18-26"},subtypes:["Single Tube","Small Box Body","Double Tube","Large Box Body"],secParts:["","Voyager","Grill Wings","Y-Wings","Bent Wings","Drop-Wings","X-Wings","Low Wings","Glider","V-Wings"],accessories:["","Straight Turbine","Tapered Turbine","Omega Cap","Retro Booster","Fatboy","Magnatreme Adapter","Afterburner","Hover Fan","Magnatreme Dome","Magnatreme Ring","Magnatreme Shield","Wing Turbine"],miscParts:["","Micro Thruster","Vertical Intake","Solar Panel","Keg","Mr. Fusion","R2 Unit","Fuel Port","Antenna","Lunch Box","Cargo Vent","Cooling Channel","Exhaust Cooling Channel","Angled Vent","Fuel Compressor","Coolant Ports"],sections:{subtypeInput:["show"],exoticInput:["hide",""],pilotInput:["hide",""],inventoryInput:["hide"],maneuverBInput:["hide",""],damageBInput:["hide",""],shieldBInput:["hide",""],warpBInput:["hide",""],economyInput:["show"],planetInput:["hide",""],moonInput:["hide",""],axesInput:["hide",""]}},"Living Ship":{cost:{Medium:"21,850,000"},slots:{Medium:"36"},techslots:{Medium:"30"},subtypes:["Anvil","Hammerhead","Shark","Tusked","Compact"],secParts:["","Long Arm","Short Arm"],accessories:["","Bigfoot","Fruitbowl Feet","Pedestal Feet"],miscParts:["","Single Thruster","Triple Thruster"],sections:{subtypeInput:["show"],exoticInput:["hide",""],pilotInput:["hide",""],inventoryInput:["hide","Medium"],maneuverBInput:["show"],damageBInput:["show"],shieldBInput:["show"],warpBInput:["show"],economyInput:["hide",""],planetInput:["show"],moonInput:["show"],axesInput:["show"]}}};return t.Explorer.miscParts=structuredClone(t.Explorer.accessories),t.Explorer.miscParts.push("Antenna","Spike","Dish","Sensor"),t}function subtypeDropdown(){const e=pageData.type,t=globalElements.input.subtypeInput,a=getShipData();Array.isArray(a[e].subtypes)?setDropdownOptions(t,a[e].subtypes):setDropdownOptions(t,Object.keys(a[e].subtypes)),wikiCode(t)}function calcS(){const e=pageData.economy.split(" "),t=pageData.type;let a,n="always spawns";if(!["Exotic","Living Ship"].includes(t)){switch(e[0]){case"★★★":a="2%";break;case"★★":a="1%";break;case"★":a="0%";break;default:a="5%"}n=`has a ${a} chance to spawn`}globalElements.output.sChance.innerText=n}function shipStats(){const e=pageData.type.split(" ")[0];globalElements.output.stats.innerText=e+"Ship"}function showHideStarshipSelects(){const e=getShipData(),t={show:"",hide:"none"},a=pageData.type;invDropdown();for(const n of Object.keys(e[a].sections)){const s=e[a].sections[n],i=globalElements.input[n];hideInput(i,t[s[0]]),s.length>1?i.value=s[1]:"select"==i.tagName.toLowerCase()&&(i.value||=i.options?.[0]?.value),wikiCode(i)}calcInv()}function invDropdown(){const e=pageData.type,t=pageData.subtype,a=globalElements.input.inventoryInput,n=getShipData();"Hauler"==e?(setDropdownOptions(a,n.Hauler.subtypes[t]),1==n.Hauler.subtypes[t].length?(a.value=n.Hauler.subtypes[t][0],hideInput(a,"none")):hideInput(a,"")):setDropdownOptions(a,["Small","Medium","Large"]),wikiCode(a)}function calcInv(){const e=pageData.type,t=pageData.subtype,a=globalElements.input.inventoryInput,n=getShipData();let s;switch(e){case"Freighter":s=n[e].subtypes.indexOf(t)>5?"Small":"Large";break;case"Shuttle":s=n[e].subtypes.indexOf(t)>1?"Medium":"Small"}s&&(a.value=s),wikiCode(a),costSlotCalc()}function costSlotCalc(){const e=pageData.type,t=pageData.inventory,a=getShipData();globalElements.output.cost.innerText=a[e].cost[t],globalElements.output.slots.innerText=a[e].slots[t],globalElements.output.techslots.innerText=a[e].techslots[t]}function introType(){wikiCode(shipType(),"archetype")}function shipType(){return"Freighter"==pageData.type?"freighter":"starship"}function loc(){const e=pageData.system,t=pageData.region,a=pageData.civShort,n=pageData.type;function s(){return"Capital"==function(){if("Large"==pageData.inventory)return"Capital"}()?"after warping into the star system if a space battle is triggered":"randomly while pulsing around in the star system"}const i=`This ${shipType()} was discovered in the [[${e}]] [[star system]] in the [[${t}]] [[region]]${regNr(t)} of the ${HubGal(a)}.\n\n\tIt can be found ${function(){switch(n){case"Freighter":return s();case"Living Ship":return function(){const e=pageData.axes;return`on the ${planetMoonSentence()} at the coordinates ${e}`}();default:return"at either the [[Space Station]] or any [[Trade Outpost]]s available in the star system"}}()}.`;globalElements.output.location.innerText=i}function addInfo(){let e="";const t=shortenGHub(pageData.civShort),a=docByResearchteam("GHSH"),n=pageData.type;"CalHub"!=t&&(e=" - "+n),e="Freighter"==n&&"CalHub"!=t?t+" Freighter Catalog":t+" Starship Catalog"+e;const s="[["+e+"]]"+a;globalElements.output.addInfo.innerText=s}function appearanceDropdowns(){const e=globalElements.input.typeInput.value,t=globalElements.input.secPartsInput,a=globalElements.input.accessoriesInput,n=globalElements.input.miscPartsInput,s=getShipData();setDropdownOptions(t,s[e].secParts),setDropdownOptions(a,s[e].accessories),setDropdownOptions(n,s[e].miscParts)}function appearanceSentence(){const e=globalElements.input.mainColourInput.value,t=globalElements.input.secColourInput.value,a=globalElements.input.secPartsInput.value,n=globalElements.input.accessoriesInput.value,s=globalElements.input.miscPartsInput.value;if(!(e.trim()||t.trim()||a||n||s))return;const i=pageData.name,o=pageData.type,l=pageData.subtype,r=pageData.exotic,p=globalElements.input.appearanceInput,u=t.trim()?` with ${t} accents`:"",c=(()=>{let e="";(a||n||s)&&(e+="It features ");const t=[a.toLowerCase(),n.toLowerCase(),s.toLowerCase()],i=new Array;for(const e of t)e&&i.push(e);for(let t=0;t<i.length;t++){let a;a=0==t?"":t!=i.length-1?", ":" and ",e+=a+i[t]}return e&&(e+="."),e})(),h=`${i} is ${e.trim()?`${enPrefix(e)} ${e}`:enPrefix(o)} ${o.toLowerCase()} of the ${l.toLowerCase()||r.toLowerCase()} subtype${u}. ${c}`;p.value=h,wikiCode(p)}function albumOtherExternal(){const e=pageData.planet,t=pageData.moon,a="("+pageData.axes+")",n=pageData.type,s=pageData.economy,i=s.includes("Black")?"{{BlackMarket}}":s.split(" ")[0]+" Economy",o="- "+pageData.pilot,l=t?`[[${t}]]`:`[[${e}]]`;let r=i,p="";switch(n){case"Freighter":p=o;break;case"Living Ship":r=l,p=a}return`<br>${r} ${p}`}function albumLinkGen(){const e=pageData.civStub,t=pageData.civShort,a=e.split(" ").length>1?pageData.civShort:pageData.civilized.split(" ").slice(0,2).join(" "),n=pageData.type,s=pageData.subtype,i={Common:["Barrel","Jet","Snowspeeder","Viper"],Rare:["Alpha","Long","Needle","Rasa","Stubby"]};return function(){if("CalHub"==t)return"CalHub Starship Catalog";if("Freighter"==n)return a+" Freighter Catalog";if("EisHub"!=t||"Fighter"!=n)return a+" Starship Catalog - "+n;const e=(()=>{for(const e in i)if(i[e].includes(s))return e})();return`${a} Starship Catalog - ${n} (${e})`}()}function albumTypeExternal(){return"Catalog"}function generateGalleryArray(){const e=["","Rear view of ship","Rear view of freighter","Inventory screen","NPC freighter captain","NPC ship pilot","Analysis Visor Scan","Crash site","Moon Page","Planet Page","System Page"],t=["moon","planet","crash"],a={"Living Ship":["npc","freighter"],Freighter:["ship",...t],default:["freighter",...t]};if(!pageData.moon){const t=e.findIndex((e=>e.toLowerCase().includes("moon")));e.splice(t,1)}const n=pageData.type,s=structuredClone(e).map((e=>e.toLowerCase()));for(let t=e.length-1;t>=0;t--){const i=s[t];for(const s of a[n]??a.default)i.includes(s)&&e.splice(t,1)}pageData.galleryArray=e}function galleryExplanationExternal(){return"There is a preferred order of gallery pictures, depending on ship type:\n\t<div class='dialog-center is-flex-wrap-wrap mt-2' style='gap: 1rem'>\n\t\t<div>\n\t\t\t<div class='has-text-weight-bold'>Normal Ships:</div>\n\t\t\t<ol class='dialog-list mt-1'>\n\t\t\t\t<li>Rear view of ship</li>\n\t\t\t\t<li>Inventory screen</li>\n\t\t\t\t<li>NPC Ship Pilot</li>\n\t\t\t\t<li>Analysis Visor Scan</li>\n\t\t\t\t<li>System Page</li>\n\t\t\t</ol>\n\t\t</div>\n\t\t<div>\n\t\t\t<div class='has-text-weight-bold'>Living Ships:</div>\n\t\t\t<ol class='dialog-list mt-1'>\n\t\t\t\t<li>Rear view of ship</li>\n\t\t\t\t<li>Inventory screen</li>\n\t\t\t\t<li>Analysis Visor Scan</li>\n\t\t\t\t<li>Crash site</li>\n\t\t\t\t<li>Planet/Moon Page</li>\n\t\t\t\t<li>System Page</li>\n\t\t\t</ol>\n\t\t</div>\n\t\t<div>\n\t\t\t<div class='has-text-weight-bold'>Freighters:</div>\n\t\t\t<ol class='dialog-list mt-1'>\n\t\t\t\t<li>Rear view of freighter</li>\n\t\t\t\t<li>Inventory screen</li>\n\t\t\t\t<li>NPC freighter captain</li>\n\t\t\t\t<li>Analysis Visor Scan</li>\n\t\t\t\t<li>System Page</li>\n\t\t\t</ol>\n\t\t</div>\n\t</div>"}assignElementFunctions(starshipElementFunctions);
