function startupFunctions(){locGalaxy(),acquirementBundle(),addInfo(),autoMTType(),showSizeDropdown(),MTType(),bundleNumberStats(),hideLocName(),hideSrLocName(),locHubNr(),hideCost(),albumFunctions()}const MTElementFunctions={nameInput:["albumName(); appearance()"],civ:["locGalaxy(); addInfo(); appearance(); locHubNr()",null,!0],typeInput:["addInfo(); appearance(); autoMTType(); showSizeDropdown(); MTType(); albumItemType(); albumOther()",null,!0],sizeInput:["showSizeDropdown(); MTType(); albumOther()"],researchTeam:["addInfo()",null,!0],locInput:["acquirementBundle(); hideLocName(); hideCost(); autoSentinel(this)"],srlocInput:["acquirementBundle(); hideSrLocName()"],srInput:["acquirementBundle()"],planetInput:["acquirementBundle()"],moonInput:["acquirementBundle()"],axesInput:["acquirementAlbumBundle()"],dmgInput:["numberStats(this, 1, true)"],scanInput:["numberStats(this, 1, true)"],costInput:["numberStats(this)"],slotsInput:["numberStats(this); albumOther()"],classInput:["albumOther()"],srImgInput:["acquirementGallery()"],sysImgInput:["acquirementGallery()"],cabInput:["acquirementGallery()"],coordsInput:["acquirementGallery()"],srImgUpload:["acquirementGallery()",null,!0],sysImgUpload:["acquirementGallery()",null,!0],cabUpload:["acquirementGallery()",null,!0],coordsUpload:["acquirementGallery()",null,!0],portalglyphsInput:["locHubNr()",null,!0],discoveredInput:["albumDiscoverer()"],discoveredlinkInput:["albumDiscoverer()"],mainColourInput:["appearance()"],secColourInput:["appearance()"]};function locHubNr(){globalElements.output.HubNr.innerText=regNr(pageData.region)}function locGalaxy(){const e=pageData.civShort,t=HubGal(e);wikiCode(t,"locGalaxy")}function addInfo(){const e=shortenGHub(pageData.civShort),t=docByResearchteam("GHSH"),n=(()=>{const e=pageData.type;return"Standard"==e?"Standard Multi-Tool":e})(),a="[["+("CalHub"==e?`${e} Multi-Tool Catalog`:`${e} Multi-Tool Catalog - ${n}`)+"]]"+t;globalElements.output.addInfo.innerText=a}function appearance(){const{name:e,mainColour:t,secColour:n}=pageData,a=pageData.type.toLowerCase(),l=globalElements.input.appearanceInput;if(!t.trim()&&!n.trim())return;const o=t.trim()?`${enPrefix(t)} ${t.trim()}`:enPrefix(a),i=n.trim()?` with ${n} accents`:"",u=`${e} is ${o} ${a} multi-tool${i}.`;l.value=u,wikiCode(l)}function acquirementAlbumBundle(){acquirement(),albumInitialised?albumDesc():document.addEventListener("albumLoaded",(()=>albumDesc()))}function acquirementBundle(){acquirementAlbumBundle(),acquirementGallery()}function acquirement(){const{srLocName:e,planet:t,moon:n,axes:a}=pageData,l=pageData.location.toLowerCase(),o=planetMoonSentence(t,n);let i,u;const r=(()=>{const t=pageData.srLoc;return t.includes("Space")||e?t:l.includes("Space")?l:o})();l.includes("space")?(i=`fly to the ${l}`,u=`the ${r}`,l!=r&&e?r.includes("space")||(u=`${r} [[${e}]]`):i="take from cabinet"):(u=`${r} [[${e}]]`,i=`fly to ${o} (${a})`,r.includes("space")?u=`the ${r}`:n&&"moon"==r&&e==n||!n&&"planet"==r&&e==t?i=`fly to ${a}`:e||(u=`${o}`,i=`fly to ${a}`));wikiCode(`Save and reload on ${u}, then ${i}.`,"acquirement"),pageData.actualSrLoc=r}function acquirementGallery(){const{srLocName:e,location:t}=pageData,n=pageData.srPlanetImg||"nmsMisc_notAvailable.png",a=pageData.sysImg||"nmsMisc_notAvailable.png",l=pageData.cabinetPlanetImg||"nmsMisc_notAvailable.png",o=pageData.axesImg||"nmsMisc_notAvailable.png",i=["srImgInput","sysImgInput","cabInput","coordsInput"],u=[{},{},{},{}],r=planetMoon(),c=(()=>{const n=pageData.srLoc;return n.includes("Space")||e?n:t.includes("Space")?t:r})(),s="Sentinel Pillar"==t?"Pillar":"Cabinet",p=t.includes("Space")?"":`(${s} ${r} highlighted)`;function m(e,t,n){e.picName=t,e.desc=n}m(u[0],n,`Save/Reload ${c}`),m(u[1],a,`System ${p}`);!t.includes("Space")&&(m(u[2],l,`${s} ${r}`),m(u[3],o,"Coordinates"));const d=new Array;for(let e=0;e<u.length;e++){const t=u[e],n=t.picName,a=t.desc,l=i[e];if(!n||!a){hideInput(globalElements.input[l],"none");continue}hideInput(globalElements.input[l],"");const o=document.createElement("span");o.style.display="block",o.innerText=`${n}|${a}`,d.push(o.outerHTML),globalElements.output[l+"Label"].innerText=a}globalElements.output.acquirementGallery.innerHTML=d.join("")}function autoMTType(){const e=pageData.type,t=globalElements.input.locInput,n={Royal:"Sentinel Pillar",Sentinel:"Harmonic Camp"};e in n?(hideInput(t,"none"),t.value=n[e],wikiCode(t)):hideInput(t,""),hideCost(),hideAddons(),acquirementGallery()}function showSizeDropdown(){const{type:e,size:t}=pageData,n=globalElements.input.sizeInput;n.querySelector('option[value="SMG"]').style.display="Experimental"==e?"none":"","Experimental"==e&&"SMG"==t&&(n.value="Pistol");["Royal","Starter Pistol","Sentinel"].includes(e)?hideInput(n,"none"):hideInput(n,"")}function MTType(){const e=globalElements.input.typeInput,t=e.value,n=t.split(" ").slice(-1).join(),a=pageData.size,l="Standard"==t&&"SMG"==a?"Rifle":"Standard"==t?a:n;enPrefix(l,"enPrefix");const o=e.dataset.destNoauto;wikiCode(l,o),pageData[o]=t}function bundleNumberStats(){numberStats(globalElements.input.dmgInput,1),numberStats(globalElements.input.scanInput,1),numberStats(globalElements.input.costInput),numberStats(globalElements.input.slotsInput)}function hideLocName(){const e=["planetInput","moonInput","axesInput"];if(pageData.location.includes("Space"))for(const t of e){const e=globalElements.input[t];hideInput(e,"none"),e.value="",wikiCode(e),errorMessage(e)}else for(const t of e)hideInput(globalElements.input[t],"")}function hideSrLocName(){const e=pageData.srLoc,t=globalElements.input.srInput;e.includes("Space")?(hideInput(t,"none"),t.value="",wikiCode(t)):hideInput(t,"")}function hideCost(){const e=pageData.location,t=globalElements.input.costInput;"Sentinel Pillar"==e||"Harmonic Camp"==e?(hideInput(t,"none"),t.value="",t.oninput()):hideInput(t,"")}function hideAddons(){const e=pageData.type,t=globalElements.input.crystalsInput;if("Royal"==e||"Sentinel"==e){const e=t.closest(".checkboxes").querySelectorAll('input[type="checkbox"]');hideInput(t,"none"),e.forEach((e=>{e.checked=!1,e.onchange()}))}else hideInput(t,"")}function autoSentinel(e){if("Harmonic Camp"!=e.value)return;const t=globalElements.input.typeInput;t.value="Sentinel",t.onchange(),hideInput(t,"none"),hideInput(e,"")}function galleryExplanationExternal(){return"There is a preferred order of pictures:\n\t<div class='is-flex is-justify-content-center'>\n\t\t<ol class='has-text-left'>\n\t\t\t<li>Discovery Menu</li>\n\t\t\t<li>Price Page</li>\n\t\t\t<li>Base Stats</li>\n\t\t\t<li>Minor Settlement/Sentinel Pillar/Harmonic Camp</li>\n\t\t\t<li>Tool in Hand</li>\n\t\t\t<li>First Person View</li>\n\t\t</ol>\n\t</div>"}function albumTypeExternal(){return"Catalog"}function albumItemTypeExternal(){return pageData.type}function albumOtherExternal(){return`<br>{{Class|${pageData.class}}} - ${function(){const{type:e,size:t}=pageData;return["Royal","Starter Pistol","Sentinel"].includes(e)?"":t+" -"}()} ${pageData.slots} Slots`}function albumDescExternal(){return(()=>{const e=pageData.axes,t=pageData.acquirement.replace("Save and reload","S/r");return e&&!validateCoords(!1)?t.replace(/[()]/g,"").replace(e,`(${e})`):t})()}function albumLinkGen(){const e=shortenGHub(pageData.civShort),t=pageData.type;return(()=>{if("CalHub"==e)return e+" Multi-Tool Catalog";return e+" Multi-Tool Catalog - "+("Standard"==t?`${t} Multi-Tool`:t)})()}function generateGalleryArray(){const e=["","Discovery Menu","Price Page","Base Stats","Minor Settlement","Sentinel Pillar","Harmonic Camp","Tool in hand","First Person View"],t=pageData.location,n=["Minor Settlement","Sentinel Pillar","Harmonic Camp"];if(n.includes(t)){const a=n.filter((e=>e!=t));console.log(a),a.forEach((t=>{const n=e.indexOf(t);e.splice(n,1)}))}else for(let t=e.length-1;t>=0;t--)n.includes(e[t])&&e.splice(t,1);pageData.galleryArray=e}assignElementFunctions(MTElementFunctions);
